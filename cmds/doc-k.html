

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>All commands, alphabetic order; letter K &mdash; Tralics 2.16.0pre documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/tweak.css?v=86cf1cd6" />
      <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/katex-math.css?v=05624691" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7f416c36"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/katex.min.js?v=5cc8ed51"></script>
      <script src="../_static/auto-render.min.js?v=af98beb9"></script>
      <script src="../_static/katex_autorenderer.js?v=f1cc15a7"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="All commands, alphabetic order; letter L" href="doc-l.html" />
    <link rel="prev" title="All commands, alphabetic order; letter J" href="doc-j.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Tralics
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Using tralics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../options.html">Command-line options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../titlepage.html">Configuration files of Tralics: syntax and usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">All packages known by Tralics, alphabetic order</a></li>
<li class="toctree-l1"><a class="reference internal" href="../array.html">Arrays in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chars.html">Characters in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../err.html">Error recovery in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../latex3.html">Implementation of the LaTeX3 Bundle in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loop.html">Example of the \loop command in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start.html">Documentation of Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../step.html">Getting started with Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mml_ex.html">MathML Examples for Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fp.html">Examples for the fp package.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../laux.html">XML source and translation of some math commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raweb.html">Tralics and the Raweb</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raweb_examples.html">RAWeb examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raweb_cfg.html">Parts of the raweb-cfg file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auxdoc.html">Font test</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">All commands, alphabetic order</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="doc-a.html">All commands, alphabetic order; letter A</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-b.html">All commands, alphabetic order; letter B</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-c.html">All commands, alphabetic order; letter C</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-d.html">All commands, alphabetic order; letter D</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-e.html">All commands, alphabetic order; letter E</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-f.html">All commands, alphabetic order; letter F</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-g.html">All commands, alphabetic order; letter G</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-h.html">All commands, alphabetic order; letter H</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-i.html">All commands, alphabetic order; letter I</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-j.html">All commands, alphabetic order; letter J</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">All commands, alphabetic order; letter K</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#k">\k</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kappa-math-symbol">\kappa (math symbol)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ker-math-symbol">\ker (math symbol)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kern">\kern</a></li>
<li class="toctree-l3"><a class="reference internal" href="#keywords-environment">keywords (environment)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-xkeyval-package">The xkeyval package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="doc-l.html">All commands, alphabetic order; letter L</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-m.html">All commands, alphabetic order; letter M</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-n.html">All commands, alphabetic order; letter N</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-o.html">All commands, alphabetic order; letter O</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-p.html">All commands, alphabetic order; letter P</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-q.html">All commands, alphabetic order; letter Q</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-r.html">All commands, alphabetic order; letter R</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-s.html">All commands, alphabetic order; letter S</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-t.html">All commands, alphabetic order; letter T</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-u.html">All commands, alphabetic order; letter U</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-v.html">All commands, alphabetic order; letter V</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-w.html">All commands, alphabetic order; letter W</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-x.html">All commands, alphabetic order; letter X</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-y.html">All commands, alphabetic order; letter Y</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-z.html">All commands, alphabetic order; letter Z</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-symbols.html">Tralics: All commands, non-letters</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-unimplemented.html">All commands, alphabetic order; unimplemented</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../titlepage-conf.html">Configuration of the title page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../titlepage-ex1.html">Two examples for the Titlepage mechanism of Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../titlepage-ex2.html">Two examples for the Titlepage mechanism of Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../titlepage-ex3.html">Examples of transcripts</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Tralics</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">All commands, alphabetic order</a></li>
      <li class="breadcrumb-item active">All commands, alphabetic order; letter K</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="all-commands-alphabetic-order-letter-k">
<h1>All commands, alphabetic order; letter K<a class="headerlink" href="#all-commands-alphabetic-order-letter-k" title="Link to this heading"></a></h1>
<div class="line-block">
<div class="line">This page contains the description of the following commands
<a class="reference external" href="#cmd-k">\k</a>, <a class="reference external" href="#cmd-kappa">\kappa</a>, <a class="reference external" href="#cmd-ker">\ker</a>,
<a class="reference external" href="#cmd-kern">\kern</a>, <a class="reference external" href="#cmd-keyval">keyval</a>,</div>
<div class="line">and environments <a class="reference external" href="#env-keywords">keywords</a>.</div>
</div>
<hr class="docutils" />
<section id="k">
<span id="cmd-k"></span><h2>\k<a class="headerlink" href="#k" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\k</span></code> command generates an ogonek accent. The translation of</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">k</span> <span class="n">A</span> \<span class="n">k</span> <span class="n">a</span> \<span class="n">k</span> <span class="n">E</span> \<span class="n">k</span> <span class="n">e</span> \<span class="n">k</span> <span class="n">I</span> \<span class="n">k</span> <span class="n">i</span> \<span class="n">k</span> <span class="n">O</span> \<span class="n">k</span> <span class="n">o</span> \<span class="n">k</span><span class="p">{</span>\<span class="o">=</span><span class="n">O</span><span class="p">}</span> \<span class="n">k</span><span class="p">{</span>\<span class="o">=</span><span class="n">o</span><span class="p">}</span>  \<span class="n">k</span> <span class="n">U</span> \<span class="n">k</span> <span class="n">u</span>
</pre></div>
</div>
</div>
<p>is</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="c1">#260; &amp;#261; &amp;#280; &amp;#281; &amp;#302; &amp;#303; &amp;#490; &amp;#491; &amp;#492; &amp;#493; &amp;#370; &amp;#371;</span>
</pre></div>
</div>
</div>
<p>Corresponding HTML characters: Ą ą Ę ę Į į Ǫ ǫ Ǭ ǭ Ų ų. Latex Image
<img alt="ogonek accent" class="vc" src="../_images/img_24.png" /></p>
</section>
<section id="kappa-math-symbol">
<span id="cmd-kappa"></span><h2>\kappa (math symbol)<a class="headerlink" href="#kappa-math-symbol" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\kappa</span></code> command is valid only in math mode. It generates a Greek
letter: <code class="docutils literal notranslate"><span class="pre">&lt;mi&gt;&amp;kappa;&lt;/mi&gt;</span></code> (Unicode U+3BA, κ). See description of the
<code class="docutils literal notranslate"><span class="pre">`\alpha</span></code> &lt;doc-a.html#cmd-alpha&gt;`__ command.</p>
</section>
<section id="ker-math-symbol">
<span id="cmd-ker"></span><h2>\ker (math symbol)<a class="headerlink" href="#ker-math-symbol" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\ker</span></code> command is valid only in math mode. Its translation is a
math operator of the same name: <code class="docutils literal notranslate"><span class="pre">&lt;mo</span> <span class="pre">form='prefix'&gt;ker&lt;/mo&gt;</span></code>. For an
example see the <code class="docutils literal notranslate"><span class="pre">`\log</span></code> &lt;doc-l.html#cmd-log&gt;`__ command.</p>
</section>
<section id="kern">
<span id="cmd-kern"></span><h2>\kern<a class="headerlink" href="#kern" title="Link to this heading"></a></h2>
<p>The command reads a dimension. It should do something with it.</p>
</section>
<section id="keywords-environment">
<span id="env-keywords"></span><h2>keywords (environment)<a class="headerlink" href="#keywords-environment" title="Link to this heading"></a></h2>
<p>The content of the environment should be a list of comma-separated
items. A final dot is removed. Each item is translated. This command was
removed in version 2.7, because <code class="docutils literal notranslate"><span class="pre">\keywords{foo,bar}</span></code> will fail in a
very strange manner. The functionality is still there, under the
alternate name <code class="docutils literal notranslate"><span class="pre">`motscle</span></code> &lt;doc-m.html#env-motscle&gt;`__</p>
</section>
<section id="the-xkeyval-package">
<span id="cmd-keyval"></span><h2>The xkeyval package<a class="headerlink" href="#the-xkeyval-package" title="Link to this heading"></a></h2>
<p>We describe here a number of functions defined by the keyval or xkeyval
package. The idea is that you can write code of the form
<code class="docutils literal notranslate"><span class="pre">\foo{u=1,v=2,w}</span></code>. The command can execute the action associated to
the different keys; this means that the actions have to be registered
somewhere. For instance the action of <code class="docutils literal notranslate"><span class="pre">u</span></code>is in <code class="docutils literal notranslate"><span class="pre">\KV&#64;fam&#64;u</span></code>. You
can chose the family name (<code class="docutils literal notranslate"><span class="pre">fam</span></code> in the example); the graphicx package
uses Gin. The first line in the example defines the action of key
<code class="docutils literal notranslate"><span class="pre">u</span></code>in family <code class="docutils literal notranslate"><span class="pre">fam</span></code>. The second line defines the action of <code class="docutils literal notranslate"><span class="pre">w</span></code>,
in this case you can omit the value, the default value is in brackets.
The xkeyval package allows you to change the prefix. The lines that
follow explain which command is defined; note that if a field is empty,
the &#64; separator is omitted.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@key</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">u</span><span class="p">}{</span>\<span class="n">typeout</span><span class="p">{</span><span class="n">In</span> <span class="n">u</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="c1">#1}}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">w</span><span class="p">}[</span><span class="kc">None</span><span class="p">]{</span>\<span class="n">typeout</span><span class="p">{</span><span class="n">In</span> <span class="n">w</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="c1">#1}}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keyA</span><span class="p">}[]{}</span>  <span class="o">%</span> \<span class="n">my</span><span class="nd">@fam@keyA</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[]{</span><span class="n">xx</span><span class="p">}{</span><span class="n">keyA</span><span class="p">}{}</span> <span class="o">%</span> \<span class="n">xx</span><span class="nd">@keyA</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">my</span><span class="p">]{}{</span><span class="n">keyA</span><span class="p">}{}</span> <span class="o">%</span> \<span class="n">my</span><span class="nd">@keyA</span>
</pre></div>
</div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">\define&#64;cmdkey</span></code> defines a key that saves the value in a
command, and may perform some additional action. We give here two
examples, first with a default prefix, then with <code class="docutils literal notranslate"><span class="pre">MP&#64;</span></code>. In each case,
the effect is the same as the two lines that follow. The default value
(x or y) is optional, if omitted the default command is not created.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@cmdkey</span><span class="p">[</span><span class="n">xKV</span><span class="p">]{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keyA</span><span class="p">}[</span><span class="n">x</span><span class="p">]{</span><span class="n">code</span> <span class="c1">#1}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">xKV</span><span class="nd">@fam@keyA</span><span class="c1">#1{\def \cmdxKV@fam@keyA {#1}code #1}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">xKV</span><span class="nd">@fam@keyA@default</span><span class="p">{</span>\<span class="n">xKV</span><span class="nd">@fam@keyA</span> <span class="p">{</span><span class="n">x</span><span class="p">}}</span>
\<span class="n">define</span><span class="nd">@cmdkey</span><span class="p">[</span><span class="n">xKV</span><span class="p">]{</span><span class="n">fam</span><span class="p">}[</span><span class="n">MP</span><span class="o">@</span><span class="p">]{</span><span class="n">keyB</span><span class="p">}[</span><span class="n">y</span><span class="p">]{</span><span class="n">code</span> <span class="c1">#1}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">xKV</span><span class="nd">@fam@keyB</span><span class="c1">#1{\def \MP@keyB {#1}code #1}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">xKV</span><span class="nd">@fam@keyB@default</span><span class="p">{</span>\<span class="n">xKV</span><span class="nd">@fam@keyB</span> <span class="p">{</span><span class="n">y</span><span class="p">}}</span>
</pre></div>
</div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">\define&#64;cmdkeys</span></code>. This defines a sequence of keys that
saves the value; there is no additional action, but the syntax is
otherwise the same (all three arguments in brackets are optional).</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@cmdkeys</span><span class="p">[</span><span class="n">xKV</span><span class="p">]{</span><span class="n">fam</span><span class="p">}[</span><span class="n">MP</span><span class="o">@</span><span class="p">]{</span><span class="n">keyD</span><span class="p">,</span><span class="n">keyE</span><span class="p">}[</span><span class="n">z</span><span class="p">]</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">xKV</span><span class="nd">@fam@keyD</span><span class="c1">#1{\def \MP@keyD {#1}}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">xKV</span><span class="nd">@fam@keyE</span><span class="c1">#1{\def \MP@keyE {#1}}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">xKV</span><span class="nd">@fam@keyD@default</span><span class="p">{</span>\<span class="n">xKV</span><span class="nd">@fam@keyD</span> <span class="p">{</span><span class="n">z</span><span class="p">}}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">xKV</span><span class="nd">@fam@keyE@default</span><span class="p">{</span>\<span class="n">xKV</span><span class="nd">@fam@keyE</span> <span class="p">{</span><span class="n">z</span><span class="p">}}</span>
</pre></div>
</div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">\define&#64;choicekey</span></code>. This defines a choice key. The syntax
is the following: the first three arguments define the key. Then comes
an optional argument formed of zero, one or two arguments, followed by
the list of allowed values, followed by the optional default value
followed by the code.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@choicekey</span><span class="o">*</span><span class="p">[</span><span class="n">KV</span><span class="p">]{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keyC</span><span class="p">}[</span>\<span class="n">val</span>\<span class="n">nr</span><span class="p">]{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">}[</span><span class="n">w</span><span class="p">]{</span><span class="c1">#1}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">KV</span><span class="nd">@fam@keyC</span><span class="c1">#1{\XKV@cc*[\val \nr ]{#1}{a,b}{#1}}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">foo</span><span class="p">{</span>\<span class="n">KV</span><span class="nd">@fam@keyC</span> <span class="p">{</span><span class="n">w</span><span class="p">}}</span>\<span class="n">isfoo</span>\<span class="n">KV</span><span class="nd">@fam@keyC@default</span>
\<span class="n">define</span><span class="nd">@choicekey</span><span class="o">*+</span><span class="p">[</span><span class="n">KV</span><span class="p">]{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keyC</span><span class="p">}[</span>\<span class="n">val</span>\<span class="n">nr</span><span class="p">]{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">}{</span><span class="c1">#1}{=#1}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">KV</span><span class="nd">@fam@keyC</span><span class="c1">#1{\XKV@cc*+[\val \nr ]{#1}{a,b}{#1}{=#1}}</span>
</pre></div>
</div>
</div>
<p>The magic command is <code class="docutils literal notranslate"><span class="pre">\XKV&#64;cc</span></code>. It takes four or five arguments, bin
(optional), value (the value of the key), allowed (a comma separated
list of tokens), code, and maybe badcode; there are two prefixes, plus
and star, the plus prefix says how many arguments are read. If the star
prefix is used, then the argument and allowed values are converted to
lower case letter. If the key value is not in the list, an error is
signaled, unless the plus prefix is used, case where badcode is
executed. Otherwise code is executed. If the bin is not empty, it should
contain one or two definable commands; the value of the key is stored in
the first command (possibly after conversion into lower case); its index
is stored in the second command if possible. Said otherwise, if the key
value is a in the example above then <code class="docutils literal notranslate"><span class="pre">\nr</span></code> will hold 0, if the key
value is b, it will hold 1.</p>
<p>You can use <code class="docutils literal notranslate"><span class="pre">\define&#64;boolkey</span></code>. This is like a choice key, with two
choices, true and false. The star prefix is implied: a lower case
version of the key is always used. If the code below, you can see the
<code class="docutils literal notranslate"><span class="pre">\csname</span></code> command. It starts with some name (here <code class="docutils literal notranslate"><span class="pre">\KV&#64;fam&#64;shadow</span></code>,
but is <code class="docutils literal notranslate"><span class="pre">\my&#64;frame</span></code> for the example on the last like). Call this foo;
the boolean <code class="docutils literal notranslate"><span class="pre">\iffoo</span></code> is constructed. The <code class="docutils literal notranslate"><span class="pre">\csname</span></code> sets the boolean,
by calling <code class="docutils literal notranslate"><span class="pre">\footrue</span></code> or <code class="docutils literal notranslate"><span class="pre">\foofalse</span></code>, the user defined code can use
it. The first line is the same as the two other ones.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@boolkey</span><span class="o">+</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">shadow</span><span class="p">}{</span><span class="n">B</span><span class="c1">#1}{C#1}</span>
<span class="o">%</span>\<span class="n">def</span>\<span class="n">KV</span><span class="nd">@fam@shadow</span>  <span class="c1">#1{\XKV@cc*+[\XKV@resa ]{#1}{true,false}</span>
<span class="o">%</span> <span class="p">{</span>\<span class="n">csname</span> <span class="n">KV</span><span class="nd">@fam@shadow</span>\<span class="n">XKV</span><span class="nd">@resa</span> \<span class="n">endcsname</span> <span class="n">B</span><span class="c1">#1}{C#1}}</span>
<span class="o">%%</span> \<span class="n">define</span><span class="nd">@boolkey</span><span class="p">{</span><span class="n">fam</span><span class="p">}[</span><span class="n">my</span><span class="o">@</span><span class="p">]{</span><span class="n">frame</span><span class="p">}{</span><span class="n">A</span><span class="c1">#1}</span>
</pre></div>
</div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">\define&#64;boolkeys</span></code>. It defines more than one key. The plus
prefix is forbidden and no code be given: the effect of setting the key
is just to set the boolean. In the example that follows, no error should
be signaled.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@boolkey</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">A</span><span class="p">}{</span>\<span class="n">xdef</span>\<span class="n">foo</span><span class="p">{</span>\<span class="n">ifKV</span><span class="nd">@fam@A</span> <span class="n">Atrue</span>\<span class="k">else</span> <span class="n">Afalse</span>\<span class="n">fi</span><span class="p">}}</span>
\<span class="n">define</span><span class="nd">@boolkeys</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">}</span>
\<span class="n">def</span>\<span class="n">Test</span><span class="p">{</span><span class="n">Atrue</span><span class="p">}</span>

\<span class="n">setkeys</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">A</span><span class="o">=</span><span class="n">true</span><span class="p">,</span><span class="n">B</span><span class="o">=</span><span class="n">false</span><span class="p">,</span><span class="n">C</span><span class="o">=</span><span class="kc">True</span><span class="p">}</span>
\<span class="n">ifx</span>\<span class="n">foo</span>\<span class="n">Test</span> \<span class="n">ifKV</span><span class="nd">@fam@B</span>\<span class="k">else</span> \<span class="n">ifKV</span><span class="nd">@fam@C</span> \<span class="n">let</span>\<span class="n">bad</span>\<span class="n">relax</span>\<span class="n">fi</span>\<span class="n">fi</span>\<span class="n">fi</span>
\<span class="n">bad</span>
</pre></div>
</div>
</div>
<p>It is possible to disable a key via <code class="docutils literal notranslate"><span class="pre">\disable&#64;keys</span></code>; the example below
will disable the keys keya, keyb and keyc in the family fam (with prefix
my); it is an error to disable an undefined key; otherwise this
redefines the key to produced a warning when used. It is possible to
check via <code class="docutils literal notranslate"><span class="pre">\key&#64;ifundefined</span></code> that a key exists in a list of families.
The next example should print `key defined’ if the key is defined in
one of the families, and `key undefined’ otherwise. The command
<code class="docutils literal notranslate"><span class="pre">\XKV&#64;tfam</span></code> holds the last family checked; this is the first family in
which the key is defined in case of success, the last element of the
family list otherwise; in the special case where the family list is
empty, the key is undefined and the macro is empty.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">disable</span><span class="nd">@keys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keya</span><span class="p">,</span><span class="n">keyb</span><span class="p">,</span><span class="n">keyc</span><span class="p">}</span>
\<span class="n">key</span><span class="nd">@ifundefined</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">,</span><span class="n">familyb</span><span class="p">}{</span><span class="n">keya</span><span class="p">}</span>
   <span class="p">{</span>\<span class="n">typeout</span><span class="p">{</span><span class="n">key</span> <span class="n">undefined</span><span class="p">}}{</span>\<span class="n">typeout</span><span class="p">{</span><span class="n">key</span> <span class="n">defined</span><span class="p">}}</span>
</pre></div>
</div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">\setkeys</span></code> sets a sequence of keys. Arguments are an
optional prefix (default is <code class="docutils literal notranslate"><span class="pre">KV</span></code>), followed by a list of families and
a list of key-value pairs. For each pair, all families are looked at,
and the definition of the first family is considered. In the example
that follows, the first <code class="docutils literal notranslate"><span class="pre">\setkeys</span></code> produces aAabBb, and signals an
undefined key error for keyd. In the second case, an error is signaled
because keyb has no default value, but CV is used as default value for
keyc. The third line shows nesting, it gives: `caa and bacb and cb’. We
show two more examples where a star is after the command name; it this
case no error is signaled if a key is not found in the list; in this
case <code class="docutils literal notranslate"><span class="pre">\XKV&#64;rm</span></code> will contain the list of undefined keys. Finally, we
show that the command can have an additional parameter, that is a list
of keys to ignore. The command <code class="docutils literal notranslate"><span class="pre">\setrmkeys</span></code> is like <code class="docutils literal notranslate"><span class="pre">\setkeys</span></code> but
it sets the keys from <code class="docutils literal notranslate"><span class="pre">\XKV&#64;rm</span></code>. In the example, it is assumed to set
keye and keyf in family cc; this will fail, and since the starred
version is used, the result is stored back in <code class="docutils literal notranslate"><span class="pre">\XKV&#64;rm</span></code>. On the second
try, we use the same command to set all these keys, with the exception
of keyg. Note that <code class="docutils literal notranslate"><span class="pre">\setkeys</span></code> and <code class="docutils literal notranslate"><span class="pre">\setrmkeys</span></code> accept a plus option
(to be put after the star, if you want both options); this says that if
a key is found in more than one family, it should be defined in all
families.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keya</span><span class="p">}{</span><span class="n">a</span><span class="c1">#1a}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familyb</span><span class="p">}{</span><span class="n">keyb</span><span class="p">}{</span><span class="n">b</span><span class="c1">#1b}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familyb</span><span class="p">}{</span><span class="n">keyc</span><span class="p">}[</span><span class="n">CV</span><span class="p">]{</span><span class="n">c</span><span class="c1">#1c}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familyc</span><span class="p">}{</span><span class="n">keye</span><span class="p">}{</span><span class="n">c</span><span class="c1">#1e}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familyc</span><span class="p">}{</span><span class="n">keyf</span><span class="p">}{</span><span class="n">c</span><span class="c1">#1f}</span>

\<span class="n">setkeys</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familya</span><span class="p">,</span><span class="n">familyb</span><span class="p">}{</span><span class="n">keya</span><span class="o">=</span><span class="n">A</span><span class="p">,</span><span class="n">keyb</span><span class="o">=</span><span class="n">B</span><span class="p">,</span><span class="n">keyd</span><span class="o">=</span><span class="n">D</span><span class="p">}</span>
\<span class="n">setkeys</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familyb</span><span class="p">}{</span><span class="n">keyb</span><span class="p">,</span><span class="n">keyc</span><span class="p">}</span>
\<span class="n">setkeys</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familyb</span><span class="p">}{</span><span class="n">keyc</span><span class="o">=</span><span class="n">a</span>\<span class="n">setkeys</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keya</span><span class="o">=~</span><span class="ow">and</span> <span class="n">b</span><span class="p">},</span><span class="n">keyb</span><span class="o">=~</span><span class="ow">and</span> <span class="n">c</span><span class="p">}</span>
\<span class="n">setkeys</span><span class="o">*</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familyb</span><span class="p">}{</span><span class="n">keyc</span><span class="p">,</span><span class="n">keyd</span><span class="p">,</span><span class="n">keye</span><span class="p">}</span>
<span class="o">%</span>\<span class="n">XKV</span><span class="nd">@rm</span> <span class="o">==</span> <span class="p">{</span><span class="n">keyd</span><span class="p">,</span><span class="n">keye</span><span class="p">}</span>
\<span class="n">setkeys</span><span class="o">*</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familya</span><span class="p">,</span><span class="n">familyb</span><span class="p">}[</span><span class="n">keya</span><span class="p">,</span><span class="n">keyd</span><span class="p">]{</span><span class="n">keyc</span><span class="p">,</span><span class="n">keyd</span><span class="p">,</span><span class="n">keye</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keyf</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">keyg</span><span class="o">=</span><span class="mi">3</span><span class="p">}</span>
<span class="o">%</span>\<span class="n">XKV</span><span class="nd">@rm</span> <span class="o">==</span> <span class="p">{</span><span class="n">keye</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">keyf</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">keyg</span><span class="o">=</span><span class="mi">3</span><span class="p">}</span>
\<span class="n">setrmkeys</span><span class="o">*</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familycc</span><span class="p">}</span>
\<span class="n">setrmkeys</span><span class="o">+</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familyc</span><span class="p">}[</span><span class="n">keyg</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>When executing a key macro, six commands are defined; <code class="docutils literal notranslate"><span class="pre">\XKV&#64;prefix</span></code>
contains the prefix, <code class="docutils literal notranslate"><span class="pre">\XKV&#64;fams</span></code> contains the list of families to
search, <code class="docutils literal notranslate"><span class="pre">\XKV&#64;tfam</span></code> contains the current family, <code class="docutils literal notranslate"><span class="pre">\XKV&#64;header</span></code>
contains the header which is a combination of the prefix and the current
family, <code class="docutils literal notranslate"><span class="pre">\XKV&#64;tkey</span></code> contains the current key name and <code class="docutils literal notranslate"><span class="pre">\XKV&#64;na</span></code>
contains the list of keys that should not be set. For technical reasons,
the &#64; character has category code 11. Example:</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keyc</span><span class="p">}{</span><span class="o">%</span>
\<span class="n">edef</span>\<span class="nb">vars</span><span class="p">{</span><span class="n">prefix</span><span class="o">=</span>\<span class="n">XKV</span><span class="nd">@prefix</span><span class="p">,</span> <span class="n">fams</span><span class="o">=</span>\<span class="n">XKV</span><span class="nd">@fams</span><span class="p">,</span> <span class="n">this</span> <span class="n">fam</span><span class="o">=</span>\<span class="n">XKV</span><span class="nd">@tfam</span><span class="p">,</span>
<span class="n">header</span><span class="o">=</span>\<span class="n">XKV</span><span class="nd">@header</span><span class="p">,</span><span class="n">this</span> <span class="n">key</span><span class="o">=</span>\<span class="n">XKV</span><span class="nd">@tkey</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span>\<span class="n">XKV</span><span class="nd">@na</span><span class="p">}}</span>
\<span class="n">setkeys</span><span class="o">*</span><span class="p">[</span><span class="n">X</span><span class="p">]{</span><span class="n">familya</span><span class="p">,</span><span class="n">familyb</span><span class="p">}[</span><span class="n">keya</span><span class="p">,</span><span class="n">keyd</span><span class="p">]{</span><span class="n">keyc</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="n">keyd</span><span class="p">,</span><span class="n">keye</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keyf</span><span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">keyg</span><span class="o">=</span><span class="mi">3</span><span class="p">}</span>
\<span class="n">show</span>\<span class="nb">vars</span>
\<span class="nb">vars</span><span class="o">=</span><span class="n">macro</span><span class="p">:</span> <span class="o">-&gt;</span><span class="n">prefix</span><span class="o">=</span><span class="n">X</span><span class="o">@</span><span class="p">,</span> <span class="n">fams</span><span class="o">=</span><span class="n">familya</span><span class="p">,</span><span class="n">familyb</span><span class="p">,</span>
<span class="n">this</span> <span class="n">fam</span><span class="o">=</span><span class="n">familya</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">X</span><span class="nd">@familya</span><span class="o">@</span><span class="p">,</span><span class="n">this</span> <span class="n">key</span><span class="o">=</span><span class="n">keyc</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="n">keya</span><span class="p">,</span><span class="n">keyd</span><span class="o">.</span>
</pre></div>
</div>
</div>
<p>The package provides a mechanism to save the value of a key in variable.
In the example below, we show the name of the variable; remember that
the prefix <code class="docutils literal notranslate"><span class="pre">my</span></code> is optional, default value is <code class="docutils literal notranslate"><span class="pre">KV</span></code>. The difference
between <code class="docutils literal notranslate"><span class="pre">\savevalue</span></code> and <code class="docutils literal notranslate"><span class="pre">\gsavevalue</span></code> is that the latter saves the
value globally.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span>\<span class="n">savevalue</span><span class="p">{</span><span class="n">keya</span><span class="p">}</span><span class="o">=</span><span class="n">test1</span><span class="p">}</span>
  <span class="o">%</span> \<span class="n">XKV</span><span class="nd">@my@familya@keya@value</span> <span class="ow">is</span> <span class="n">test1</span>
\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span>\<span class="n">gsavevalue</span><span class="p">{</span><span class="n">keya</span><span class="p">}</span><span class="o">=</span><span class="n">test2</span><span class="p">}</span>
<span class="p">}</span>
  <span class="o">%</span> \<span class="n">XKV</span><span class="nd">@my@familya@keya@value</span> <span class="ow">is</span> <span class="n">test2</span>
</pre></div>
</div>
</div>
<p>The six functions described now take an optional prefix as argument, and
a family, and optionally a key list. In the example, they work on the
macro <code class="docutils literal notranslate"><span class="pre">\XKV&#64;my&#64;familya&#64;save</span></code>; if the command starts with the letter g,
the macro is globally modified, otherwise locally. This macro contains
the list of the keys that should be automatically saved; this means that
<code class="docutils literal notranslate"><span class="pre">\savemacro</span></code> is implicitly added; after execution of the first line
the two lines that follow are identical; in the case of keyc,
<code class="docutils literal notranslate"><span class="pre">\gsavemacro</span></code> is used instead. Line four has as effect to add keyb to
the macro, as well as keyc (the old value of keyc with the global flag
is discarded). The command <code class="docutils literal notranslate"><span class="pre">\savekeys</span></code> adds the lists of keys to the
macro (unless already present), the command <code class="docutils literal notranslate"><span class="pre">\delsavekeys</span></code> removes the
keys when present, and <code class="docutils literal notranslate"><span class="pre">\unsavekeys</span></code> clears the macro.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">savekeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keya</span><span class="p">,</span>\<span class="k">global</span><span class="p">{</span><span class="n">keyc</span><span class="p">}}</span>
 <span class="o">%</span>\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span>\<span class="n">savevalue</span><span class="p">{</span><span class="n">keya</span><span class="p">}</span><span class="o">=</span><span class="n">test5</span><span class="p">}</span>
 <span class="o">%</span>\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keya</span><span class="o">=</span><span class="n">test5</span><span class="p">}</span>
\<span class="n">gsavekeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keyb</span><span class="p">,</span><span class="n">keyc</span><span class="p">}</span>
\<span class="n">delsavekeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keyb</span><span class="p">}</span>
\<span class="n">gdelsavekeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keyw</span><span class="p">}</span>
\<span class="n">unsavekeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}</span>
\<span class="n">gunsavekeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>You can use a saved value by using the macro that holds the value; a
simpler method consists in using <code class="docutils literal notranslate"><span class="pre">\usevalue</span></code>; this works only if the
family is the same and the command is not hidden in braces. In the
example that follows, the value of keyc in familya is xyz. We give then
an example where the default value of a keys uses a saved value.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span>\<span class="n">savevalue</span><span class="p">{</span><span class="n">keya</span><span class="p">}</span><span class="o">=</span><span class="n">y</span><span class="p">}</span>
\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span>\<span class="n">savevalue</span><span class="p">{</span><span class="n">keyb</span><span class="p">}</span><span class="o">=</span>\<span class="n">usevalue</span><span class="p">{</span><span class="n">keya</span><span class="p">}}</span>
\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keyc</span><span class="o">=</span><span class="n">a</span>\<span class="n">usevalue</span><span class="p">{</span><span class="n">keyb</span><span class="p">}</span><span class="n">z</span><span class="p">}</span>

\<span class="n">define</span><span class="nd">@key</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keya</span><span class="p">}{</span><span class="n">keya</span><span class="p">:</span> <span class="c1">#1}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keyb</span><span class="p">}[</span>\<span class="n">usevalue</span><span class="p">{</span><span class="n">keya</span><span class="p">}</span><span class="n">Q</span><span class="p">]{</span><span class="n">keyb</span><span class="p">:</span> <span class="c1">#1}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keyc</span><span class="p">}[</span>\<span class="n">usevalue</span><span class="p">{</span><span class="n">keyb</span><span class="p">}</span><span class="n">R</span><span class="p">]{</span><span class="n">keyc</span><span class="p">:</span> <span class="c1">#1}</span>
\<span class="n">setkeys</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span>\<span class="n">savevalue</span><span class="p">{</span><span class="n">keya</span><span class="p">}</span><span class="o">=</span><span class="n">test</span><span class="p">}</span>
\<span class="n">setkeys</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span>\<span class="n">savevalue</span><span class="p">{</span><span class="n">keyb</span><span class="p">}}</span>
\<span class="n">setkeys</span><span class="p">{</span><span class="n">fam</span><span class="p">}{</span><span class="n">keyc</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">\presetkeys</span></code> works the same as <code class="docutils literal notranslate"><span class="pre">\savekeys</span></code> with two
exceptions. It takes two key lists instead of one, and these lists may
contain key=value pairs. In the example the two macros
<code class="docutils literal notranslate"><span class="pre">\XKV&#64;pre&#64;fama&#64;preseth</span></code> and <code class="docutils literal notranslate"><span class="pre">\XKV&#64;pre&#64;fama&#64;presett</span></code> are modified.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">presetkeys</span><span class="p">[</span><span class="n">pre</span><span class="p">]{</span><span class="n">fama</span><span class="p">}{</span><span class="n">keya</span><span class="p">,</span> <span class="n">keyb</span><span class="o">=</span><span class="n">c</span><span class="p">}{</span><span class="n">Keya</span><span class="p">,</span> <span class="n">Keyb</span><span class="o">=</span><span class="n">c</span><span class="p">,</span> \<span class="n">savevalue</span><span class="p">{</span><span class="n">Keyc</span><span class="p">}}</span>
\<span class="n">gpresetkeys</span><span class="p">[</span><span class="n">pre</span><span class="p">]{</span><span class="n">fama</span><span class="p">}{</span><span class="n">keya</span><span class="o">=</span><span class="mi">1</span><span class="p">}{</span><span class="n">Keya</span><span class="o">=</span><span class="mi">2</span><span class="p">}</span>
\<span class="n">delpresetkeys</span><span class="p">[</span><span class="n">pre</span><span class="p">]{</span><span class="n">fama</span><span class="p">}{</span><span class="n">keya</span><span class="p">}{</span><span class="n">Keya</span><span class="p">}</span>
\<span class="n">gdelpresetkeys</span><span class="p">[</span><span class="n">pre</span><span class="p">]{</span><span class="n">fama</span><span class="p">}{</span><span class="n">keya</span><span class="p">}{</span><span class="n">Keya</span><span class="p">}</span>
\<span class="n">unpresetkeys</span><span class="p">[</span><span class="n">pre</span><span class="p">]{</span><span class="n">fama</span><span class="p">}</span>
\<span class="n">gunpresetkeys</span><span class="p">[</span><span class="n">pre</span><span class="p">]{</span><span class="n">fama</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>This is an example of presetting keys. We tell the system to set keya
before the user keys, and keyb after that; these settings are skipped if
the user specifies a key. The order of evaluation is important in this
example because keyb uses a value saved by keya.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keya</span><span class="p">}{</span>\<span class="n">typeout</span><span class="p">{</span><span class="n">keya</span><span class="p">:</span> <span class="c1">#1}}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keyb</span><span class="p">}{</span>\<span class="n">typeout</span><span class="p">{</span><span class="n">keyb</span><span class="p">:</span> <span class="c1">#1}}</span>
\<span class="n">define</span><span class="nd">@key</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keyc</span><span class="p">}{</span>\<span class="n">typeout</span><span class="p">{</span><span class="n">keyc</span><span class="p">:</span> <span class="c1">#1}}</span>
\<span class="n">savekeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keya</span><span class="p">}</span>
\<span class="n">presetkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keya</span><span class="o">=</span><span class="n">blue</span><span class="p">}{</span><span class="n">keyb</span><span class="o">=</span>\<span class="n">usevalue</span><span class="p">{</span><span class="n">keya</span><span class="p">}}</span>
\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keya</span><span class="o">=</span><span class="n">red</span><span class="p">}</span>
\<span class="n">setkeys</span><span class="p">[</span><span class="n">my</span><span class="p">]{</span><span class="n">familya</span><span class="p">}{</span><span class="n">keyc</span><span class="o">=</span><span class="n">green</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>The commands shown on the first three lines below can appear in a
package or class file. When you declare an option with
<code class="docutils literal notranslate"><span class="pre">\DeclareOptionX</span></code> (in package or class foo), you really declare a key
in family <code class="docutils literal notranslate"><span class="pre">foo.cls</span></code> or <code class="docutils literal notranslate"><span class="pre">foo.sty</span></code>; the example shows the strange
syntax to use if you want the family to be <code class="docutils literal notranslate"><span class="pre">foo.bar</span></code>. If no default
value is given, an empty one is provided. The command
<code class="docutils literal notranslate"><span class="pre">\ExecuteOptionsX</span></code> behaves like <code class="docutils literal notranslate"><span class="pre">\setkeys</span></code> (the same algorithm is
used to set get the family). This command is provided by the package
writer in order to initialise the variables in the package; as a
consequence, there are no presets, no list of keys to ignore, and no
error should happen. The command <code class="docutils literal notranslate"><span class="pre">\ProcessOptionsX</span></code> sets the keys
passed as arguments to the package or class. In the current version of
<em>Tralics</em> a list of strings (the keys) is maintained for use with
commands without extension X. Mixing these two methods is not provided
in version 2.11.5. This means that <code class="docutils literal notranslate"><span class="pre">\ProcessOptionsX</span></code> has no access to
global class options, and if used in a class, does not pass these
options to packages. Moreover an optional star is ignored.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">DeclareOptionX</span><span class="p">{</span><span class="n">opA</span><span class="p">}[</span><span class="n">def</span><span class="o">-</span><span class="n">val</span><span class="p">]{</span>\<span class="n">def</span>\<span class="n">opA</span><span class="p">{</span><span class="c1">#1}}</span>
\<span class="n">ExecuteOptionsX</span><span class="p">{</span><span class="n">keya</span><span class="p">,</span><span class="n">keyb</span><span class="o">=</span><span class="mi">1</span><span class="p">}</span>
\<span class="n">ProcessOptionsX</span> \<span class="n">relax</span>
 <span class="o">%</span>\<span class="n">DeclareOptionX</span><span class="p">[</span><span class="n">my</span><span class="p">]</span><span class="o">&lt;</span><span class="n">foo</span><span class="o">.</span><span class="n">bar</span><span class="o">&gt;</span><span class="p">{</span><span class="n">landscape</span><span class="p">}{</span>\<span class="n">landscapetrue</span><span class="p">}</span>
 <span class="o">%</span>\<span class="n">usepackage</span><span class="p">[</span><span class="n">opA</span><span class="p">,</span><span class="n">opB</span><span class="o">=</span><span class="n">C</span><span class="p">,</span><span class="n">opC</span><span class="o">=</span>\<span class="n">foo</span><span class="p">,</span><span class="n">opE</span><span class="p">]{</span><span class="n">testkeyval</span><span class="p">}</span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-2020, INRIA and CNRS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>