

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>All commands, alphabetic order; letter X &mdash; Tralics 2.16.0pre documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/tweak.css?v=86cf1cd6" />
      <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/katex-math.css?v=05624691" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7f416c36"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/katex.min.js?v=5cc8ed51"></script>
      <script src="../_static/auto-render.min.js?v=af98beb9"></script>
      <script src="../_static/katex_autorenderer.js?v=f1cc15a7"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="All commands, alphabetic order; letter Y" href="doc-y.html" />
    <link rel="prev" title="All commands, alphabetic order; letter W" href="doc-w.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Tralics
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Using tralics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../options.html">Command-line options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../titlepage.html">Configuration files of Tralics: syntax and usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">All packages known by Tralics, alphabetic order</a></li>
<li class="toctree-l1"><a class="reference internal" href="../array.html">Arrays in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chars.html">Characters in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../err.html">Error recovery in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../latex3.html">Implementation of the LaTeX3 Bundle in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loop.html">Example of the \loop command in Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start.html">Documentation of Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../step.html">Getting started with Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mml_ex.html">MathML Examples for Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fp.html">Examples for the fp package.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../laux.html">XML source and translation of some math commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raweb.html">Tralics and the Raweb</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raweb_examples.html">RAWeb examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raweb_cfg.html">Parts of the raweb-cfg file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auxdoc.html">Font test</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">All commands, alphabetic order</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="doc-a.html">All commands, alphabetic order; letter A</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-b.html">All commands, alphabetic order; letter B</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-c.html">All commands, alphabetic order; letter C</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-d.html">All commands, alphabetic order; letter D</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-e.html">All commands, alphabetic order; letter E</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-f.html">All commands, alphabetic order; letter F</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-g.html">All commands, alphabetic order; letter G</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-h.html">All commands, alphabetic order; letter H</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-i.html">All commands, alphabetic order; letter I</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-j.html">All commands, alphabetic order; letter J</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-k.html">All commands, alphabetic order; letter K</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-l.html">All commands, alphabetic order; letter L</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-m.html">All commands, alphabetic order; letter M</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-n.html">All commands, alphabetic order; letter N</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-o.html">All commands, alphabetic order; letter O</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-p.html">All commands, alphabetic order; letter P</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-q.html">All commands, alphabetic order; letter Q</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-r.html">All commands, alphabetic order; letter R</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-s.html">All commands, alphabetic order; letter S</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-t.html">All commands, alphabetic order; letter T</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-u.html">All commands, alphabetic order; letter U</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-v.html">All commands, alphabetic order; letter V</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-w.html">All commands, alphabetic order; letter W</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">All commands, alphabetic order; letter X</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xbox-tralics-command">\xbox (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xdef">\xdef</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xfontsize-tralics-internal-integer">\&#64;xfontsize (Tralics internal integer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xi-math-symbol">\xi (math symbol)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cmd-cxi">\Xi (math symbol)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xiint-xiiint-xiiiint-math-symbol">\xiint, \xiiint, \xiiiint (math symbol)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xkv-cc">\XKV&#64;cc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xleaders">\xleaders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xleftarrow-math-command">\xleftarrow (math command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmladdatt-tralics-command">\XMLaddatt (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xml-a-id-xml-b-id-xmlbox-id-tralics-readonly-integer">\XML&#64;A&#64;id, \XML&#64;B&#64;id, \XMLbox&#64;id (Tralics readonly integer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xml-a-name-xml-b-name-xmlbox-name-tralics-readonly-token-list">\XML&#64;A&#64;name, \XML&#64;B&#64;name, \XMLbox&#64;name (Tralics readonly token list)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlcomment-tralics-command">\xmlcomment (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xml-copya-xml-copyb-tralics-command">\XML&#64;copyA, \XML&#64;copyB (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlcurrentid-tralics-internal-integer">\XMLcurrentid (Tralics internal integer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlcurrentcellid-xmlcurrentrowid-xmlcurrentarrayid-tralics-internal-integer">\XMLcurrentcellid \XMLcurrentrowid \XMLcurrentarrayid (Tralics internal integer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlelement-tralics-environment">xmlelement (Tralics environment)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xml-fetch-tralics-command">\XML&#64;fetch (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xml-get-xml-set-xml-delete-xml-insert-tralics-command">\XML&#64;get, \XML&#64;set, \XML&#64;delete, \XML&#64;insert (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlgetatt-tralics-command">\XMLgetatt (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xml-moveab-xml-moveba-xml-sawpab-tralics-command">\XML&#64;moveAB, \XML&#64;moveBA, \XML&#64;sawpAB (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlsolvecite-tralics-command">\XMLsolvecite (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlelt-tralics-command">\xmlelt (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlemptyelt-tralics-command">\xmlemptyelt (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmllastid-tralics-readonly-internal-integer">\XMLlastid (Tralics readonly internal integer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmllatex-tralics-command">\xmllatex (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xml-parent-tralics-command">\XML&#64;parent (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlref-math-command">\XMLref (math command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xml-seta-xml-setb-tralics-command">\XML&#64;setA, \XML&#64;setB (Tralics command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xpt-xipt-xiipt-xivpt-xviipt-xxpt-xxvpt-constant">\&#64;xpt, \&#64;xipt, \&#64;xiipt, \&#64;xivpt, \&#64;xviipt, \&#64;xxpt, \&#64;xxvpt (constant)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xrightarrow-math-command">\xrightarrow (math command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xscale">\xscale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xscaley">\xscaley</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xspace">\xspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xspaceskip-rubber-length">\xspaceskip (rubber length)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#x-tag-xtag-tralics-commands">\x&#64;tag, \&#64;xtag (Tralics commands)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manipulation-of-the-xml-tree">Manipulation of the XML tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="doc-y.html">All commands, alphabetic order; letter Y</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-z.html">All commands, alphabetic order; letter Z</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-symbols.html">Tralics: All commands, non-letters</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-unimplemented.html">All commands, alphabetic order; unimplemented</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../titlepage-conf.html">Configuration of the title page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../titlepage-ex1.html">Two examples for the Titlepage mechanism of Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../titlepage-ex2.html">Two examples for the Titlepage mechanism of Tralics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../titlepage-ex3.html">Examples of transcripts</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Tralics</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">All commands, alphabetic order</a></li>
      <li class="breadcrumb-item active">All commands, alphabetic order; letter X</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="all-commands-alphabetic-order-letter-x">
<h1>All commands, alphabetic order; letter X<a class="headerlink" href="#all-commands-alphabetic-order-letter-x" title="Link to this heading"></a></h1>
<div class="line-block">
<div class="line">This page contains the description of the following commands
<a class="reference external" href="#cmd-xbox">\xbox</a>, <a class="reference external" href="#cmd-xdef">\xdef</a>, <a class="reference external" href="#cmd-xi">\xi</a>,
<a class="reference external" href="#cmd-cxi">\Xi</a>, <a class="reference external" href="#cmd-xiint">\xiint, \xiiint, \xiiiint</a>,
<a class="reference external" href="#cmd-xpt">\&#64;xiipt</a>, <a class="reference external" href="#cmd-xpt">\&#64;xiipt</a>,
<a class="reference external" href="#cmd-xpt">\&#64;xipt</a>, <a class="reference external" href="#cmd-xkvcc">\&#64;XKV&#64;cc</a>,
<a class="reference external" href="#cmd-xsetfontsize">\&#64;xfontsize</a>, <a class="reference external" href="#cmd-xleaders">\xleaders</a>,
<a class="reference external" href="#cmd-xleftarrow">\xleftarrow</a>, <a class="reference external" href="#cmd-xmlAid">\XML&#64;A&#64;id</a>,
<a class="reference external" href="#cmd-xmlAname">\XML&#64;A&#64;name</a>, <a class="reference external" href="#cmd-XMLaddatt">\XMLaddatt</a>,
<a class="reference external" href="#cmd-xmlAid">\XML&#64;B&#64;id</a>, <a class="reference external" href="#cmd-xmlAname">\XML&#64;B&#64;name</a>
<a class="reference external" href="#cmd-xmlAid">\XMLbox&#64;id</a>, <a class="reference external" href="#cmd-xmlAname">\XMLbox&#64;name</a>,
<a class="reference external" href="#cmd-xmlcomment">\xmlcomment</a>, <a class="reference external" href="#cmd-xmlcopyA">\XML&#64;copyA</a>,
<a class="reference external" href="#cmd-xmlcopyA">\XML&#64;copyB</a>,
<a class="reference external" href="#cmd-xmlcurrentid">\XMLcurrentid</a>,
<a class="reference external" href="#cmd-xmlcurrentcellid">\XMLcurrentcellid</a>,
<a class="reference external" href="#cmd-xmlcurrentcellid">\XMLcurrentrowid</a>,
<a class="reference external" href="#cmd-xmlcurrentcellid">\XMLcurrenttableid</a>,
<a class="reference external" href="#cmd-XMLget">\XML&#64;delete</a>, <a class="reference external" href="#cmd-xmlelt">\xmlelt</a>,
<a class="reference external" href="#cmd-xmlemptyelt">\xmlemptyelt</a>, <a class="reference external" href="#cmd-XMLfetch">\XML&#64;fetch</a>,
<a class="reference external" href="#cmd-XMLgetatt">\XMLgetatt</a>, <a class="reference external" href="#cmd-XMLget">\XML&#64;get</a>,
<a class="reference external" href="#cmd-XMLget">\XML&#64;insert</a>, <a class="reference external" href="#cmd-xmllastid">\XMLlastid</a>,
<a class="reference external" href="#cmd-xmllatex">\xmllatex</a>, <a class="reference external" href="#cmd-xmlmoveAB">\XML&#64;moveAB</a>,
<a class="reference external" href="#cmd-xmlmoveAB">\XML&#64;moveBA</a>, <a class="reference external" href="#cmd-xmlparent">\XML&#64;parent</a>,
<a class="reference external" href="#cmd-xmlref">\XMLref</a>, <a class="reference external" href="#cmd-XMLget">\XML&#64;set</a>,
<a class="reference external" href="#cmd-xmlsetA">\XML&#64;setA</a>, <a class="reference external" href="#cmd-xmlsetA">\XML&#64;setB</a>,
<a class="reference external" href="#cmd-xmlmoveAB">\XML&#64;swapAB</a>, <a class="reference external" href="#cmd-xpt">\&#64;xpt</a>,
<a class="reference external" href="#cmd-xrightarrow">\xrightarrow</a>, <a class="reference external" href="#cmd-xscale">\xscale</a>,
<a class="reference external" href="#cmd-xscaley">\xscaley</a>, <a class="reference external" href="#cmd-xspace">\xscape</a>,
<a class="reference external" href="#cmd-XMLsolvecite">\XMLsolvecite</a>,
<a class="reference external" href="#cmd-xspaceskip">\xspaceskip</a>, <a class="reference external" href="#cmd-xtag">\x&#64;tag, \&#64;xtag</a>,
<a class="reference external" href="#cmd-xpt">\&#64;xviipt</a>, <a class="reference external" href="#cmd-xpt">\&#64;xxpt</a>,
<a class="reference external" href="#cmd-xpt">\&#64;xxvpt</a>,</div>
<div class="line">and environments <a class="reference external" href="doc-a.html#env-align">xalignat</a>,
<a class="reference external" href="doc-a.html#env-align">xxalignat</a>,
<a class="reference external" href="#cmd-xmlelement">xmlelement</a>, as well as a note on how to
<a class="reference external" href="#manipulate">manipulate the XML tree</a>.</div>
</div>
<hr class="docutils" />
<section id="xbox-tralics-command">
<span id="cmd-xbox"></span><h2>\xbox (Tralics command)<a class="headerlink" href="#xbox-tralics-command" title="Link to this heading"></a></h2>
<p>In TeX, you can construct boxes that have a type (vertical or
horizontal), and you can try to modify the size, see
<code class="docutils literal notranslate"><span class="pre">`\vbox</span></code> &lt;doc-v.html#cmd-vbox&gt;`__. In <em>Tralics</em>, <code class="docutils literal notranslate"><span class="pre">\vbox</span> <span class="pre">{xx}</span></code> is the
same as <code class="docutils literal notranslate"><span class="pre">\xbox{}{xx}</span></code>. This creates an anonymous element containing
<code class="docutils literal notranslate"><span class="pre">xx</span></code>. If you say <code class="docutils literal notranslate"><span class="pre">\xbox{a}{xx}</span></code>, then the box is named a. The
example below shows that assignments inside the second argument are
local to the group.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">xbox</span><span class="p">{</span><span class="n">foo</span><span class="p">}{</span>\<span class="n">let</span>\<span class="n">FOO</span><span class="o">=</span><span class="n">xA</span>\<span class="n">xbox</span><span class="p">{</span><span class="n">bar</span><span class="p">}{</span>\<span class="n">let</span>\<span class="n">FOO</span><span class="o">=</span><span class="n">yB</span>\<span class="n">FOO</span><span class="p">}</span> <span class="n">C</span>\<span class="n">FOO</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>Translation:</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">foo</span><span class="o">&gt;</span><span class="n">A</span><span class="o">&lt;</span><span class="n">bar</span><span class="o">&gt;</span><span class="n">By</span><span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;</span> <span class="n">Cx</span><span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="line-block">
<div class="line">You can say: <code class="docutils literal notranslate"><span class="pre">\setbox13=\xbox{foo}{\large</span> <span class="pre">x}</span></code>. This will put the XML
element into box 13, and you can use it later.</div>
<div class="line"><img alt="See..." src="../_images/AR.png" /> See <code class="docutils literal notranslate"><span class="pre">`\pers</span></code> &lt;doc-p.html#cmd-pers&gt;`__ for an example of
use. See also the <code class="docutils literal notranslate"><span class="pre">`xmlelement</span></code> &lt;doc-x.html#cmd-xmlelement&gt;`__
environment. <strong>Note:</strong> Not every character string is a valid XML name,
and <em>Tralics</em> does not check for it.</div>
</div>
</section>
<section id="xdef">
<span id="cmd-xdef"></span><h2>\xdef<a class="headerlink" href="#xdef" title="Link to this heading"></a></h2>
<p>You can say <code class="docutils literal notranslate"><span class="pre">\xdef\foo{bar}</span></code>. The syntax is the same as
<code class="docutils literal notranslate"><span class="pre">`\def</span></code> &lt;doc-d.html#cmd-def&gt;`__, but the token list in the body is
fully expanded (tokens that come from <code class="docutils literal notranslate"><span class="pre">\the</span></code> or <code class="docutils literal notranslate"><span class="pre">\unexpanded</span></code> are
not expanded).</p>
<p>You can put the prefix <code class="docutils literal notranslate"><span class="pre">\global</span></code> before <code class="docutils literal notranslate"><span class="pre">\xdef</span></code>, this is however
useless, since <code class="docutils literal notranslate"><span class="pre">\xdef</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">\global\edef</span></code>. The following
example puts a brace in <code class="docutils literal notranslate"><span class="pre">\foo</span></code>. The <code class="docutils literal notranslate"><span class="pre">\string</span></code> command can be
expanded, the value is the name of the command (preceded by a backslash,
or whatever the value of the escape character is). Here the assignment
to the escape character is local, the assignment to <code class="docutils literal notranslate"><span class="pre">\foo</span></code> is global.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>\<span class="n">escapechar</span><span class="o">=-</span><span class="mi">1</span> \<span class="n">xdef</span>\<span class="n">foo</span><span class="p">{</span>\<span class="n">string</span>\<span class="p">}}}</span>
</pre></div>
</div>
</div>
</section>
<section id="xfontsize-tralics-internal-integer">
<span id="cmd-xsetfontsize"></span><h2>\&#64;xfontsize (Tralics internal integer)<a class="headerlink" href="#xfontsize-tralics-internal-integer" title="Link to this heading"></a></h2>
<p>In <em>Tralics</em>, since version 2.13.1, there are eleven font sizes, named,
starting with the smaller, <code class="docutils literal notranslate"><span class="pre">\Tiny</span></code>, <code class="docutils literal notranslate"><span class="pre">\tiny</span></code>, <code class="docutils literal notranslate"><span class="pre">\SMALL</span></code>, <code class="docutils literal notranslate"><span class="pre">\Small</span></code>,
<code class="docutils literal notranslate"><span class="pre">\small</span></code>, <code class="docutils literal notranslate"><span class="pre">\normalsize</span></code> <code class="docutils literal notranslate"><span class="pre">\large</span></code>, <code class="docutils literal notranslate"><span class="pre">\Large</span></code>, <code class="docutils literal notranslate"><span class="pre">\LARGE</span></code>,
<code class="docutils literal notranslate"><span class="pre">\huge</span></code> and <code class="docutils literal notranslate"><span class="pre">\Huge</span></code>. The commands <code class="docutils literal notranslate"><span class="pre">\scriptsize</span></code> and
<code class="docutils literal notranslate"><span class="pre">\footnotesize</span></code> are aliases for <code class="docutils literal notranslate"><span class="pre">\SMALL</span></code> and <code class="docutils literal notranslate"><span class="pre">\Small</span></code>. The current
font size can be changed by setting the integer <code class="docutils literal notranslate"><span class="pre">\&#64;xfontsize</span></code>. This
allows two additional sizes TINY and HUGE. The example below shows how
to implement commands <code class="docutils literal notranslate"><span class="pre">\larger</span></code> and <code class="docutils literal notranslate"><span class="pre">\smaller</span></code>. Note that by default
<em>Tralics</em> translates <code class="docutils literal notranslate"><span class="pre">{\large</span> <span class="pre">x}</span></code> and <code class="docutils literal notranslate"><span class="pre">{\Large</span> <span class="pre">x}</span></code> in the same way,
but in the example below, y is in normal size.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">newcommand</span><span class="p">{</span>\<span class="n">smaller</span><span class="p">}[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]{</span>\<span class="n">larger</span><span class="p">[</span><span class="o">-</span><span class="c1">#1]}</span>
\<span class="n">newcommand</span><span class="p">{</span>\<span class="n">larger</span><span class="p">}[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]{</span><span class="o">%</span>
  \<span class="n">count</span><span class="o">@</span>\<span class="nd">@xfontsize</span> \<span class="n">advance</span>\<span class="n">count</span><span class="o">@</span><span class="c1">#1\relax</span>
  \<span class="nd">@xfontsize</span> \<span class="n">count</span><span class="o">@</span><span class="p">}</span>
<span class="p">{</span>\<span class="n">large</span> <span class="n">x</span>\<span class="n">smaller</span> <span class="n">y</span>\<span class="n">smaller</span> <span class="n">z</span><span class="p">}{</span>\<span class="n">Large</span> <span class="n">w</span>\<span class="n">smaller</span> <span class="n">x</span>\<span class="n">smaller</span> <span class="n">y</span><span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="xi-math-symbol">
<span id="cmd-xi"></span><h2>\xi (math symbol)<a class="headerlink" href="#xi-math-symbol" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\xi</span></code> command is valid only in math mode. It generates a Greek
letter: <code class="docutils literal notranslate"><span class="pre">&lt;mi&gt;&amp;xi;&lt;/mi&gt;</span></code> (Unicode character U+3BE, ξ).</p>
</section>
<section id="cmd-cxi">
<span id="id1"></span><h2>\Xi (math symbol)<a class="headerlink" href="#cmd-cxi" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\Xi</span></code> command is valid only in math mode. It generates an
uppercase Greek letter: <code class="docutils literal notranslate"><span class="pre">&lt;mi&gt;&amp;Xi;&lt;/mi&gt;</span></code> (Unicode character U+39E, Ξ).</p>
</section>
<section id="xiint-xiiint-xiiiint-math-symbol">
<span id="cmd-xiint"></span><h2>\xiint, \xiiint, \xiiiint (math symbol)<a class="headerlink" href="#xiint-xiiint-xiiiint-math-symbol" title="Link to this heading"></a></h2>
<p>These are math-only commands, producing double, triple and quadruple
integrals. See <code class="docutils literal notranslate"><span class="pre">`\iint</span></code> &lt;doc-i.html#cmd-iint&gt;`__ for an alternate
command. Translation is an <code class="docutils literal notranslate"><span class="pre">&lt;mo&gt;&amp;iint;&lt;/mo&gt;</span></code> or similar; double
integral sign is Unicode U+222C, ∬, triple integral is U+222D, ∭,
quadruple integral is U+2A0C, ⨌.</p>
</section>
<section id="xkv-cc">
<span id="cmd-xkvcc"></span><h2>\XKV&#64;cc<a class="headerlink" href="#xkv-cc" title="Link to this heading"></a></h2>
<p>This command is provided by the <a class="reference external" href="doc-k.html#cmd-keyval">xkeyval</a>
package.</p>
</section>
<section id="xleaders">
<span id="cmd-xleaders"></span><h2>\xleaders<a class="headerlink" href="#xleaders" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\xleaders</span></code> commands reads a box and names it <code class="docutils literal notranslate"><span class="pre">xleaders</span></code>. In
<em>Tralics</em>, a box is an XML element, produced by <code class="docutils literal notranslate"><span class="pre">\hbox</span></code>, <code class="docutils literal notranslate"><span class="pre">\vbox</span></code>,
<code class="docutils literal notranslate"><span class="pre">\xbox</span></code>, or one of the box registers (for instance <code class="docutils literal notranslate"><span class="pre">\box15</span></code>), a copy
of a box register (for instance <code class="docutils literal notranslate"><span class="pre">\copy12</span></code>), the <code class="docutils literal notranslate"><span class="pre">\lastbox</span></code>, some
specific LaTeX commands like <code class="docutils literal notranslate"><span class="pre">\parbox</span></code> <code class="docutils literal notranslate"><span class="pre">\marginpar</span></code>. Note that
<code class="docutils literal notranslate"><span class="pre">\vsplit</span></code> produces an empty box. Example.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">setbox0</span><span class="o">=</span>\<span class="n">hbox</span><span class="p">{</span><span class="n">text</span><span class="p">}</span>
\<span class="n">leaders</span>\<span class="n">copy0</span>\<span class="n">cleaders</span>\<span class="n">hbox</span><span class="p">{</span><span class="n">TEST</span><span class="p">}</span>\<span class="n">cleaders</span>\<span class="n">xbox</span><span class="p">{</span><span class="n">foo</span><span class="p">}{</span><span class="n">bar</span><span class="p">}</span>
\<span class="n">leaders</span>\<span class="n">vsplit</span> <span class="mi">0</span><span class="n">to</span> <span class="mi">3</span><span class="n">pt</span> \<span class="n">xbox</span><span class="p">{</span><span class="n">bar</span><span class="p">}{</span><span class="n">foo</span><span class="p">}</span>\<span class="n">xleaders</span>\<span class="n">lastbox</span>
\<span class="n">cleaders</span>\<span class="n">parbox</span><span class="p">{</span><span class="mi">3</span><span class="n">pt</span><span class="p">}{</span><span class="n">etc</span><span class="p">}</span>\<span class="n">cleaders</span>\<span class="n">marginpar</span><span class="p">{</span><span class="n">etc</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">leaders</span><span class="o">&gt;</span><span class="n">text</span><span class="o">&lt;/</span><span class="n">leaders</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">cleaders</span><span class="o">&gt;</span><span class="n">TEST</span><span class="o">&lt;/</span><span class="n">cleaders</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">cleaders</span><span class="o">&gt;&lt;</span><span class="n">foo</span><span class="o">&gt;</span><span class="n">bar</span><span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;&lt;/</span><span class="n">cleaders</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">leaders</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">xleaders</span><span class="o">&gt;&lt;</span><span class="n">bar</span><span class="o">&gt;</span><span class="n">foo</span><span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;&lt;/</span><span class="n">xleaders</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">cleaders</span><span class="o">&gt;</span><span class="n">etc</span><span class="o">&lt;/</span><span class="n">cleaders</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">cleaders</span><span class="o">&gt;&lt;</span><span class="n">marginpar</span><span class="o">&gt;</span><span class="n">etc</span><span class="o">&lt;/</span><span class="n">marginpar</span><span class="o">&gt;&lt;/</span><span class="n">cleaders</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</section>
<section id="xleftarrow-math-command">
<span id="cmd-xleftarrow"></span><h2>\xleftarrow (math command)<a class="headerlink" href="#xleftarrow-math-command" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">There is no difference between <code class="docutils literal notranslate"><span class="pre">\xleftarrow{foo}</span></code> and
<code class="docutils literal notranslate"><span class="pre">\stackrel{foo}{\leftarrow}</span></code>. It puts foo over an arrow pointing to
the left.</div>
<div class="line"><img alt="See..." src="../_images/AR.png" /> See <code class="docutils literal notranslate"><span class="pre">`\stackrel</span></code> &lt;doc-s.html#cmd-stackrel&gt;`__. The command
accepts an optional argument placed below the arrow. Example.</div>
</div>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$\xleftarrow{U}  \xleftarrow[D]{} \xleftarrow[U]{D}$
$\xrightarrow{U}  \xrightarrow[D]{} \xrightarrow[U]{P}$
</pre></div>
</div>
</div>
<p>Translation:</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">formula</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;inline&#39;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">math</span> <span class="n">xmlns</span><span class="o">=</span><span class="s1">&#39;http://www.w3.org/1998/Math/MathML&#39;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">mrow</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">mover</span><span class="o">&gt;&lt;</span><span class="n">mo</span><span class="o">&gt;&amp;</span><span class="n">leftarrow</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mo</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;</span><span class="n">U</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;&lt;/</span><span class="n">mover</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">munder</span><span class="o">&gt;&lt;</span><span class="n">mo</span><span class="o">&gt;&amp;</span><span class="n">leftarrow</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mo</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;</span><span class="n">D</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;&lt;/</span><span class="n">munder</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">munderover</span><span class="o">&gt;&lt;</span><span class="n">mo</span><span class="o">&gt;&amp;</span><span class="n">leftarrow</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mo</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;</span><span class="n">U</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;</span><span class="n">D</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;&lt;/</span><span class="n">munderover</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">mrow</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">math</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">formula</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">formula</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;inline&#39;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">math</span> <span class="n">xmlns</span><span class="o">=</span><span class="s1">&#39;http://www.w3.org/1998/Math/MathML&#39;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">mrow</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">mover</span><span class="o">&gt;&lt;</span><span class="n">mo</span><span class="o">&gt;&amp;</span><span class="n">rightarrow</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mo</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;</span><span class="n">U</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;&lt;/</span><span class="n">mover</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">munder</span><span class="o">&gt;&lt;</span><span class="n">mo</span><span class="o">&gt;&amp;</span><span class="n">rightarrow</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mo</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;</span><span class="n">D</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;&lt;/</span><span class="n">munder</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">munderover</span><span class="o">&gt;&lt;</span><span class="n">mo</span><span class="o">&gt;&amp;</span><span class="n">rightarrow</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mo</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;</span><span class="n">U</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;</span><span class="n">P</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;&lt;/</span><span class="n">munderover</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">mrow</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">math</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">formula</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</section>
<section id="xmladdatt-tralics-command">
<span id="cmd-xmladdatt"></span><h2>\XMLaddatt (Tralics command)<a class="headerlink" href="#xmladdatt-tralics-command" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\XMLaddatt</span></code> command takes as arguments an optional star, an
optional number, an attribute name, an attribute value. It puts the
attribute pair on the XML element defined by the number. If the number
is not given, the current element will be used; this is the same as
specifying <code class="docutils literal notranslate"><span class="pre">\XMLcurrentid</span></code> as number. If a star is used, you can
overwrite an existing attribute pair. <strong>Note</strong>: There is currently no
check on the name; in particular using space, equal sign, quotes,
greater than, may result in illegal (unparsable) XML code. The command
<code class="docutils literal notranslate"><span class="pre">\XMLgetatt</span></code> takes as arguments an optional number and an attribute
name; its expansion is the value associated to the name of the XML
element defined by the number (all characters but space are of category
code 12). Example:</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>\<span class="n">everyxbox</span><span class="p">{</span><span class="n">Vest</span><span class="p">}</span>
\<span class="n">setbox0</span><span class="o">=</span>\<span class="n">xbox</span><span class="p">{</span><span class="n">foo</span><span class="p">}{</span><span class="mi">1</span>\<span class="n">xbox</span><span class="p">{</span><span class="n">bar</span><span class="p">}{</span><span class="mi">2</span><span class="p">}</span> <span class="o">%</span>
   \<span class="n">XMLaddatt</span><span class="p">[</span>\<span class="n">XMLlastid</span><span class="p">]{</span><span class="n">x</span><span class="p">}{</span><span class="mi">1</span><span class="p">}</span>\<span class="n">XMLaddatt</span><span class="p">[</span>\<span class="n">XMLcurrentid</span><span class="p">]{</span><span class="n">y</span><span class="p">}{</span><span class="mi">2</span><span class="p">}</span>\<span class="n">XMLaddatt</span><span class="p">{</span><span class="n">y</span><span class="p">}{</span><span class="mi">22</span><span class="p">}</span><span class="mi">3</span><span class="o">%</span>
   \<span class="n">edef</span>\<span class="n">values</span><span class="p">{</span><span class="n">x</span><span class="o">=</span>\<span class="n">XMLgetatt</span><span class="p">[</span>\<span class="n">XMLlastid</span><span class="p">]{</span><span class="n">x</span><span class="p">},</span> <span class="n">y</span><span class="o">=</span>\<span class="n">XMLgetatt</span><span class="p">{</span><span class="n">y</span><span class="p">},</span> <span class="n">z</span><span class="o">=</span>\<span class="n">XMLgetatt</span><span class="p">{</span><span class="n">z</span><span class="p">}</span><span class="o">.</span><span class="p">}</span><span class="o">%</span>
   \<span class="n">show</span>\<span class="n">values</span><span class="p">}</span>
\<span class="n">showbox0</span>
<span class="p">}</span>
<span class="p">{</span>\<span class="n">everyxbox</span><span class="p">{</span><span class="n">West</span><span class="p">}</span>
\<span class="n">setbox0</span><span class="o">=</span>\<span class="n">xbox</span><span class="p">{</span><span class="n">foo</span><span class="p">}{</span><span class="mi">1</span>\<span class="n">xbox</span><span class="p">{</span><span class="n">bar</span><span class="p">}{</span><span class="mi">2</span><span class="p">}</span> <span class="o">%</span>
\<span class="n">XMLaddatt</span><span class="o">*</span><span class="p">[</span>\<span class="n">XMLlastid</span><span class="p">]{</span><span class="n">x</span><span class="p">}{</span><span class="mi">1</span><span class="p">}</span>\<span class="n">XMLaddatt</span><span class="o">*</span><span class="p">[</span>\<span class="n">XMLcurrentid</span><span class="p">]{</span><span class="n">y</span><span class="p">}{</span><span class="mi">2</span><span class="p">}</span>\<span class="n">XMLaddatt</span><span class="o">*</span><span class="p">{</span><span class="n">y</span><span class="p">}{</span><span class="mi">4</span><span class="p">}</span><span class="mi">3</span><span class="o">%</span>
   \<span class="n">edef</span>\<span class="n">values</span><span class="p">{</span><span class="n">x</span><span class="o">=</span>\<span class="n">XMLgetatt</span><span class="p">[</span>\<span class="n">XMLlastid</span><span class="p">]{</span><span class="n">x</span><span class="p">},</span> <span class="n">y</span><span class="o">=</span>\<span class="n">XMLgetatt</span><span class="p">{</span><span class="n">y</span><span class="p">},</span> <span class="n">z</span><span class="o">=</span>\<span class="n">XMLgetatt</span><span class="p">{</span><span class="n">z</span><span class="p">}</span><span class="o">.</span><span class="p">}</span><span class="o">%</span>
   \<span class="n">show</span>\<span class="n">values</span><span class="p">}</span>
\<span class="n">showbox0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The following will be printed on the screen.</p>
<div class="tty-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">values</span><span class="o">=</span><span class="n">macro</span><span class="p">:</span> <span class="o">-&gt;</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=..</span>
<span class="n">Box</span> <span class="mi">0</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">foo</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="o">&gt;</span><span class="n">Vest1</span><span class="o">&lt;</span><span class="n">bar</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="o">&gt;</span><span class="n">Vest2</span><span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;</span> <span class="mi">3</span><span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;</span>
\<span class="n">values</span><span class="o">=</span><span class="n">macro</span><span class="p">:</span> <span class="o">-&gt;</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">z</span><span class="o">=..</span>
<span class="n">Box0</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">foo</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;4&#39;</span><span class="o">&gt;</span><span class="n">West1</span><span class="o">&lt;</span><span class="n">bar</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="o">&gt;</span><span class="n">West2</span><span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;</span> <span class="mi">3</span><span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>The main XML element has <em>ID</em> number one, the bibliography has number
three, the table of contents has number four, the index has number five,
the glossary has number six. Never use number two.</p>
<p>If the attribute name is empty, the element name is used instead of the
attribute value. Thus the expansion of <code class="docutils literal notranslate"><span class="pre">\XMLgetatt{}</span></code> is the name of
the current element; and <code class="docutils literal notranslate"><span class="pre">\XMLaddatt*{}{foo}</span></code> changes it to foo (the
star is mandatory here). In some cases no element is associated to the
number. For instance, you cannot use this mechanism to get or change the
bibliography name. Example</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">setbox0</span>\<span class="n">xbox</span><span class="p">{</span><span class="n">José</span><span class="p">}{</span><span class="n">Box</span> <span class="ow">is</span> <span class="n">named</span> \<span class="n">XMLgetatt</span><span class="p">{}</span>\<span class="n">XMLaddatt</span><span class="o">*</span><span class="p">{}{</span><span class="n">bar</span><span class="p">}}</span>
\<span class="n">showbox0</span>
<span class="o">%</span><span class="n">prints</span><span class="p">:</span> <span class="n">Box0</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">bar</span><span class="o">&gt;</span><span class="n">Box</span> <span class="ow">is</span> <span class="n">named</span> <span class="n">José</span><span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</section>
<section id="xml-a-id-xml-b-id-xmlbox-id-tralics-readonly-integer">
<span id="cmd-xmlaid"></span><h2>\XML&#64;A&#64;id, \XML&#64;B&#64;id, \XMLbox&#64;id (Tralics readonly integer)<a class="headerlink" href="#xml-a-id-xml-b-id-xmlbox-id-tralics-readonly-integer" title="Link to this heading"></a></h2>
<p>The command <code class="docutils literal notranslate"><span class="pre">\XMLbox&#64;id</span></code> scans a register number, say <em>N</em> (see
<a class="reference external" href="doc-s.html#fct-scanint">scanint</a> for details of how the number after
the command is scanned) and returns the <em>ID</em> of the element that is in
box register <em>N</em>. The commands <code class="docutils literal notranslate"><span class="pre">\XML&#64;A&#64;id</span></code> and <code class="docutils literal notranslate"><span class="pre">\XML&#64;B&#64;id</span></code> return
the <em>ID</em> of the special elements xmlA and xmlB; see section
<a class="reference external" href="#manipulate">manipulating the XML tree</a> for examples. Such a command
can be used only when <em>Tralics</em> reads a number, in other cases you get
an error of the form <em>Read only variable \XMLbox&#64;id.</em> For instance
<code class="docutils literal notranslate"><span class="pre">\count0</span> <span class="pre">\XML&#64;A&#64;id</span></code> stores the <em>ID</em> in count0, while
<code class="docutils literal notranslate"><span class="pre">\showthe</span> <span class="pre">\XML&#64;B&#64;id</span></code> prints the quantity on the terminal and the
transcript file. This can also be used as an argument to <code class="docutils literal notranslate"><span class="pre">\XMLaddatt</span></code>.</p>
</section>
<section id="xml-a-name-xml-b-name-xmlbox-name-tralics-readonly-token-list">
<span id="cmd-xmlaname"></span><h2>\XML&#64;A&#64;name, \XML&#64;B&#64;name, \XMLbox&#64;name (Tralics readonly token list)<a class="headerlink" href="#xml-a-name-xml-b-name-xmlbox-name-tralics-readonly-token-list" title="Link to this heading"></a></h2>
<p>The command <code class="docutils literal notranslate"><span class="pre">\XMLbox&#64;name</span></code> scans a register number, say <em>N</em> (see
<a class="reference external" href="doc-s.html#fct-scanint">scanint</a> for details of how the number after
the command is scanned) and returns the name of the element that is in
box register <em>N</em>. The commands <code class="docutils literal notranslate"><span class="pre">\XML&#64;A&#64;name</span></code> and <code class="docutils literal notranslate"><span class="pre">\XML&#64;B&#64;name</span></code>
return the name of xmlA and xmlB; see section <a class="reference external" href="#manipulate">manipulating the XML
tree</a> for examples. Such a command can be used only when
<em>Tralics</em> reads a token list, in other cases you get an error of the
form <em>Read only variable \XMLbox&#64;name</em>. For instance
<code class="docutils literal notranslate"><span class="pre">\showthe</span>&#160;&#160; <span class="pre">\XML&#64;B&#64;name</span></code> prints the quantity on the terminal and the
transcript file. The invocation <code class="docutils literal notranslate"><span class="pre">\edef\foo{\the\XMLbox&#64;name3}</span></code> puts in
<code class="docutils literal notranslate"><span class="pre">\foo</span></code> the name of the box register 3. Every character has category
code 12, except for space characters (see
<code class="docutils literal notranslate"><span class="pre">`\glueshrink</span></code> &lt;doc-g.html#cmd-glueshrink&gt;`__, where we explain how to
use <code class="docutils literal notranslate"><span class="pre">\detokenize</span></code> in order to compare the name of the box with a
constant character string).</p>
</section>
<section id="xmlcomment-tralics-command">
<span id="cmd-xmlcomment"></span><h2>\xmlcomment (Tralics command)<a class="headerlink" href="#xmlcomment-tralics-command" title="Link to this heading"></a></h2>
<p>This command reads an argument and puts it as a cmment in the XML tree.
For instance <code class="docutils literal notranslate"><span class="pre">\xmlcomment{abc</span> <span class="pre">and</span> <span class="pre">d}</span></code> produces <code class="docutils literal notranslate"><span class="pre">&lt;!--abc</span> <span class="pre">and</span> <span class="pre">d--&gt;</span></code>.</p>
</section>
<section id="xml-copya-xml-copyb-tralics-command">
<span id="cmd-xmlcopya"></span><h2>\XML&#64;copyA, \XML&#64;copyB (Tralics command)<a class="headerlink" href="#xml-copya-xml-copyb-tralics-command" title="Link to this heading"></a></h2>
<p>Whenever <em>Tralics</em> expects a box, you can use these commands; the result
is a full copy of one the two special box registers xmlA and xmlB. See
section <a class="reference external" href="#manipulate">manipulating the XML tree</a> for examples.</p>
</section>
<section id="xmlcurrentid-tralics-internal-integer">
<span id="cmd-xmlcurrentid"></span><h2>\XMLcurrentid (Tralics internal integer)<a class="headerlink" href="#xmlcurrentid-tralics-internal-integer" title="Link to this heading"></a></h2>
<p>Expansion of <code class="docutils literal notranslate"><span class="pre">\the\XMLcurrentid</span></code> is the <em>ID</em> of the current XML
element. This <em>ID</em> can be used as optional argument for the
<code class="docutils literal notranslate"><span class="pre">`\XMLaddatt</span></code> &lt;#cmd-XMLaddatt&gt;`__ command. Using the command outside a
context where a number is read yields the error <em>Read only variable
\XMLcurrentid</em> since you cannot modify the <em>ID</em> of an element.</p>
</section>
<section id="xmlcurrentcellid-xmlcurrentrowid-xmlcurrentarrayid-tralics-internal-integer">
<span id="cmd-xmlcurrencellid"></span><h2>\XMLcurrentcellid \XMLcurrentrowid \XMLcurrentarrayid (Tralics internal integer)<a class="headerlink" href="#xmlcurrentcellid-xmlcurrentrowid-xmlcurrentarrayid-tralics-internal-integer" title="Link to this heading"></a></h2>
<p>These commands expand to the <em>ID</em> of the current cell row or table, to
zero if there is no such thing. Same comments as for
<code class="docutils literal notranslate"><span class="pre">\the\XMLcurrentid</span></code> above. Note:
<code class="docutils literal notranslate"><span class="pre">\xbox{cell}{\the</span> <span class="pre">\XMLcurrentcellid}</span></code> translates to <code class="docutils literal notranslate"><span class="pre">&lt;cell&gt;0&lt;/cell&gt;</span></code>
because the element is not a cell.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> \<span class="n">begin</span><span class="p">{</span><span class="n">tabular</span><span class="p">}{}</span>
  \<span class="n">xbox</span><span class="p">{</span><span class="n">foo</span><span class="p">}{</span>\<span class="n">XMLaddatt</span><span class="p">[</span>\<span class="n">XMLcurrentcellid</span><span class="p">]{</span><span class="n">a</span><span class="p">}{</span><span class="n">b</span><span class="p">}}</span>
\<span class="n">end</span><span class="p">{</span><span class="n">tabular</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>Translation</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">table</span> <span class="n">rend</span><span class="o">=</span><span class="s1">&#39;inline&#39;</span><span class="o">&gt;&lt;</span><span class="n">row</span><span class="o">&gt;&lt;</span><span class="n">cell</span> <span class="n">a</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="o">&gt;&lt;</span><span class="n">foo</span><span class="o">/&gt;&lt;/</span><span class="n">cell</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">row</span><span class="o">&gt;&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</section>
<section id="xmlelement-tralics-environment">
<span id="cmd-xmlelement"></span><h2>xmlelement (Tralics environment)<a class="headerlink" href="#xmlelement-tralics-environment" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">xmlelement</span></code> environment takes one argument, say X. It creates an
XML element, named X, whose content is the content of the environment.
As the example shows, you can add an attribute via the
<code class="docutils literal notranslate"><span class="pre">\AddAttToCurrent</span></code> command. Moreover, each element has a unique <em>ID</em>,
and the last unique <em>ID</em> allocated can be used to define the latest XML
element, and <code class="docutils literal notranslate"><span class="pre">\AddAttToLast</span></code> modifies the attribute list of this
element. In the example that follows, we explain how an apostrophe can
be inserted in the attribute value (note however that <em>Tralics</em> does no
check for the attribute name, neither the element name, it’s up to you
to make sure it is a valid name). Example:</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">begin</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}{</span><span class="n">foo</span><span class="p">}</span>
\<span class="n">begin</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}{</span><span class="n">subelt1</span><span class="p">}</span>
<span class="n">texte1</span>
\<span class="n">end</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}</span>
\<span class="n">begin</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}{</span><span class="n">subelt2</span><span class="p">}</span>
<span class="n">texte2</span>
\<span class="n">end</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}</span>
\<span class="n">AddAttToLast</span><span class="p">{</span><span class="n">sb2</span><span class="o">-</span><span class="n">att</span><span class="p">}{</span><span class="n">value1</span><span class="p">}</span>
\<span class="n">AddAttToCurrent</span><span class="p">{</span><span class="n">foo</span><span class="o">-</span><span class="n">att</span><span class="p">}{</span><span class="n">att</span><span class="o">-</span><span class="n">value</span><span class="s1">&#39;&#39;</span><span class="p">}</span>
\<span class="n">end</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>Translation</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">foo</span> <span class="n">foo</span><span class="o">-</span><span class="n">att</span><span class="o">=</span><span class="s1">&#39;att-value&amp;apos;&amp;apos;&#39;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">subelt1</span><span class="o">&gt;</span>
<span class="n">texte1</span>
<span class="o">&lt;/</span><span class="n">subelt1</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">subelt2</span> <span class="n">sb2</span><span class="o">-</span><span class="n">att</span><span class="o">=</span><span class="s1">&#39;value1&#39;</span><span class="o">&gt;</span>
<span class="n">texte2</span>
<span class="o">&lt;/</span><span class="n">subelt2</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>If you try to specify twice the value of the same attribute, there are
two cases: if the command is followed by a star, the old value is
removed, otherwise, the new value is ignored. See example below.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">begin</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}{</span><span class="n">foo</span><span class="p">}</span>
\<span class="n">AddAttToCurrent</span><span class="p">{</span><span class="n">x</span><span class="p">}{</span><span class="mi">1</span><span class="p">}</span> <span class="o">%</span> <span class="n">ignored</span>
\<span class="n">AddAttToCurrent</span><span class="p">{</span><span class="n">y</span><span class="p">}{</span><span class="mi">2</span><span class="p">}</span> <span class="o">%</span> <span class="n">ok</span>
\<span class="n">AddAttToCurrent</span><span class="o">*</span><span class="p">{</span><span class="n">x</span><span class="p">}{</span><span class="mi">3</span><span class="p">}</span> <span class="o">%</span> <span class="n">ok</span>
\<span class="n">AddAttToCurrent</span><span class="p">{</span><span class="n">y</span><span class="p">}{</span><span class="mi">4</span><span class="p">}</span> <span class="o">%</span> <span class="n">ignored</span>
\<span class="n">end</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>In this translation, you can notice lots of spaces, one space for each
line that has a comment (the space before the comment is not discarded);
the space at the end of the <code class="docutils literal notranslate"><span class="pre">\begin</span></code> line is ignored.</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;</span><span class="n">foo</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;3&#39;</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="o">&gt;</span>    <span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>You can put a star after the name of the environment. The effect is the
following. If no star is used, then horizontal mode is entered before
creating the element (in the example above, the <code class="docutils literal notranslate"><span class="pre">&lt;foo&gt;</span></code> is inside a
<code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code>). Otherwise, the element just created is typeset in vertical
mode (said otherwise, in the case of <code class="docutils literal notranslate"><span class="pre">bar</span></code> below, the character
sequence <code class="docutils literal notranslate"><span class="pre">ok</span></code> creates a new paragraph, hence a new element; in the
case of <code class="docutils literal notranslate"><span class="pre">foo</span></code> no new element is created, and the meaning of `Current’
does not change).</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ok</span>
\<span class="n">begin</span><span class="p">{</span><span class="n">xmlelement</span><span class="o">*</span><span class="p">}{</span><span class="n">bar</span><span class="p">}</span>
\<span class="n">AddAttToCurrent</span><span class="p">{</span><span class="n">x</span><span class="p">}{</span><span class="mi">1</span><span class="p">}</span>
<span class="n">ok</span> <span class="o">%</span>
\<span class="n">AddAttToCurrent</span><span class="p">{</span><span class="n">x</span><span class="p">}{</span><span class="mi">2</span><span class="p">}</span>
\<span class="n">end</span><span class="p">{</span><span class="n">xmlelement</span><span class="o">*</span><span class="p">}</span>


<span class="n">ok</span>
\<span class="n">begin</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}{</span><span class="n">foo</span><span class="p">}</span>
\<span class="n">AddAttToCurrent</span><span class="p">{</span><span class="n">x</span><span class="p">}{</span><span class="mi">1</span><span class="p">}</span>
<span class="n">ok</span> <span class="o">%</span>
\<span class="n">AddAttToCurrent</span><span class="p">{</span><span class="n">x</span><span class="p">}{</span><span class="mi">2</span><span class="p">}</span>
\<span class="n">end</span><span class="p">{</span><span class="n">xmlelement</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>Translation:</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">ok</span>
<span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">bar</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="o">&gt;&lt;</span><span class="n">p</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="o">&gt;</span><span class="n">ok</span>
<span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">ok</span>
<span class="o">&lt;</span><span class="n">foo</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="o">&gt;</span>
<span class="n">ok</span>
<span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>You can say <code class="docutils literal notranslate"><span class="pre">\begin{xmlelement+}...\end{xmlement+}</span></code>. In this case
<code class="docutils literal notranslate"><span class="pre">\leavevmode</span></code> is called (as in the case of <code class="docutils literal notranslate"><span class="pre">\begin{xmlelement}</span></code>) but
translation starts in vertical mode (so that the box might start with a
new paragraph).</p>
</section>
<section id="xml-fetch-tralics-command">
<span id="cmd-xmlfetch"></span><h2>\XML&#64;fetch (Tralics command)<a class="headerlink" href="#xml-fetch-tralics-command" title="Link to this heading"></a></h2>
<p>This function reads an integer, say <em>N</em>, and puts in a special location
xmlA the XML element whose <em>ID</em> is <em>N</em>. See section <a class="reference external" href="#manipulate">manipulating the
XML tree</a> for examples.</p>
</section>
<section id="xml-get-xml-set-xml-delete-xml-insert-tralics-command">
<span id="cmd-xmlget"></span><h2>\XML&#64;get, \XML&#64;set, \XML&#64;delete, \XML&#64;insert (Tralics command)<a class="headerlink" href="#xml-get-xml-set-xml-delete-xml-insert-tralics-command" title="Link to this heading"></a></h2>
<p>These four commands read an integer, say <em>N</em>. The first command puts in
xmlB the child of index <em>N</em> of xmlA. The second command replaces the
child of index <em>N</em> of xmlA by xmlB, the third command erases it; the
last inserts xmlB before the child of index <em>N</em> of xmlA. These command
may signal an error when scanning the integer, but not after that. In
the case of <code class="docutils literal notranslate"><span class="pre">\XML&#64;get</span></code>, if <em>N</em> is out of bounds (in particulatr if
xmlA is void), then xmlB will be void. For the other command, nothing
happens if xmlA is void or <em>N</em> is negative, or out of bounds. If <em>N</em> is
the number of children of xmlA then <code class="docutils literal notranslate"><span class="pre">\XML&#64;insert</span></code> inserts xmlB at the
end. The two commands <code class="docutils literal notranslate"><span class="pre">\XML&#64;set</span></code> and <code class="docutils literal notranslate"><span class="pre">\XML&#64;insert</span></code> always use a deep
copy of xmlB. In the example below <code class="docutils literal notranslate"><span class="pre">\copy0</span></code> is like <code class="docutils literal notranslate"><span class="pre">\box0</span></code>, except
that the content is not erased; in particular nothing is copied. The
important point is that <code class="docutils literal notranslate"><span class="pre">\XML&#64;insert2</span></code> makes a copy. The resulting XML
is <code class="docutils literal notranslate"><span class="pre">&lt;foo&gt;bargee&lt;foo&gt;bargee&lt;/foo&gt;&lt;/foo&gt;</span></code>. See section <a class="reference external" href="#manipulate">manipulating the
XML tree</a> for more examples.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">setbox0</span>\<span class="n">xbox</span><span class="p">{</span><span class="n">foo</span><span class="p">}{</span><span class="n">bar</span><span class="p">}</span>\<span class="n">copy0</span>
\<span class="n">XML</span><span class="nd">@setA</span>\<span class="n">copy0</span>
\<span class="n">XML</span><span class="nd">@setB</span>\<span class="n">hbox</span><span class="p">{</span><span class="n">gee</span><span class="p">}</span>
\<span class="n">XML</span><span class="nd">@insert1</span>
\<span class="n">XML</span><span class="nd">@moveAB</span>
\<span class="n">XML</span><span class="nd">@insert2</span>
</pre></div>
</div>
</div>
</section>
<section id="xmlgetatt-tralics-command">
<span id="cmd-xmlgetatt"></span><h2>\XMLgetatt (Tralics command)<a class="headerlink" href="#xmlgetatt-tralics-command" title="Link to this heading"></a></h2>
<p>This command returns the value of an attribute. See
<code class="docutils literal notranslate"><span class="pre">`\XMLaddatt</span></code> &lt;#cmd-XMLaddatt&gt;`__.</p>
</section>
<section id="xml-moveab-xml-moveba-xml-sawpab-tralics-command">
<span id="cmd-xmlmoveab"></span><h2>\XML&#64;moveAB, \XML&#64;moveBA, \XML&#64;sawpAB (Tralics command)<a class="headerlink" href="#xml-moveab-xml-moveba-xml-sawpab-tralics-command" title="Link to this heading"></a></h2>
<p><em>Tralics</em> has two special registers xmlA and xmlB. These commands copy
xmlA in xmlB, xmlB in xmlA, or swap the values. See section
<a class="reference external" href="#manipulate">manipulating the XML tree</a> for examples.</p>
</section>
<section id="xmlsolvecite-tralics-command">
<span id="cmd-xmlsolvecite"></span><h2>\XMLsolvecite (Tralics command)<a class="headerlink" href="#xmlsolvecite-tralics-command" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\XMLsolvecite[xid][type]{key}</span></code> command takes two optional
argument and a required argument. A star is allowed after the command
name. The call <code class="docutils literal notranslate"><span class="pre">\bibitem[ign]{key}</span></code> is the same as
<code class="docutils literal notranslate"><span class="pre">\par</span> <span class="pre">\leavevmode</span> <span class="pre">\xbox{bibitem}{\XMLaddatt{bib-key}{ign}}</span> <span class="pre">\XMLsolvecite*[][]{key}</span></code>.</p>
<p>If the optional type is `year’ or `refer’, it will be replaced by an
empty one (note that ‘refer’ is the same as ‘year’ only in some cases,
for details see section <a class="reference external" href="raweb.html#rabib">2.8 Bibliography</a> of the
raweb documentation). Two quantities are computed by <em>Tralics</em>, an eid,
and a bid. The bid becomes the value of the <code class="docutils literal notranslate"><span class="pre">id</span></code> attribute of the
element numbered eid, as in <code class="docutils literal notranslate"><span class="pre">\XMLaddatt[xid]{id}{bid25}</span></code>, see the
description of <a class="reference external" href="#cmd-XMLaddatt">\XMLaddatt</a> for details; in
particular the current XML element is used if the first optional
argument is omitted or if its value is empty.</p>
<p>The bid is the same as the value of the <code class="docutils literal notranslate"><span class="pre">target</span></code> attribute for the
citation <code class="docutils literal notranslate"><span class="pre">\cite[type][]{key}</span></code>, (see
<code class="docutils literal notranslate"><span class="pre">`\cite</span></code> &lt;doc-c.html#cmd-cite&gt;`__ for an example). For every cite, a
solvecite is required. This might be done by calling bibtex, as
<code class="docutils literal notranslate"><span class="pre">\bibitem</span></code> solves a citation. If <em>Tralics</em> is used, it generates some
<code class="docutils literal notranslate"><span class="pre">\cititem</span></code> and solves everything. But you can also use
<code class="docutils literal notranslate"><span class="pre">\XMLsolvecite</span></code> directly. If you say <code class="docutils literal notranslate"><span class="pre">\cite[foo][]{key}</span></code>, then
<code class="docutils literal notranslate"><span class="pre">\XMLsolvecite*[][foo]{key}</span></code> solves the entry; however, if there is no
such entry to solve, then the first entry with value ‘foo’, whatever the
type is solved. This is the expected behavior for <code class="docutils literal notranslate"><span class="pre">\bibitem</span></code>. If no
star is given, this allows you to put a cite command after its target.</p>
<p>It is an error if the entry is already solved (because the cite element
has a unique target) or if the element has an id (because ids are
unique). In the case of a <code class="docutils literal notranslate"><span class="pre">\bibitem</span></code>, the element that gets an id is
in general the <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code> element that comes from the <code class="docutils literal notranslate"><span class="pre">\leavevmode</span></code>.</p>
<p>Example. The translation of
<code class="docutils literal notranslate"><span class="pre">\xbox{bibitem}{\XMLsolvecite[][foot]{toto}{key1}}</span></code> could be
<code class="docutils literal notranslate"><span class="pre">&lt;bibitem</span> <span class="pre">id='bid0'&gt;key1&lt;/bibitem&gt;</span></code></p>
</section>
<section id="xmlelt-tralics-command">
<span id="cmd-xmlelt"></span><h2>\xmlelt (Tralics command)<a class="headerlink" href="#xmlelt-tralics-command" title="Link to this heading"></a></h2>
<p>The translation of <code class="docutils literal notranslate"><span class="pre">\xmlelt{foo}{bar}</span></code> is <code class="docutils literal notranslate"><span class="pre">&lt;foo&gt;bar&lt;/foo&gt;</span></code>. See also
<code class="docutils literal notranslate"><span class="pre">`\xbox</span></code> &lt;doc-x.html#cmd-xbox&gt;`__ whose syntax is more or less the
same. However, <code class="docutils literal notranslate"><span class="pre">\xmlelt</span></code> starts a new paragraph, if needed, while
<code class="docutils literal notranslate"><span class="pre">\xbox</span></code> is independent of the mode.</p>
</section>
<section id="xmlemptyelt-tralics-command">
<span id="cmd-xmlemptyelt"></span><h2>\xmlemptyelt (Tralics command)<a class="headerlink" href="#xmlemptyelt-tralics-command" title="Link to this heading"></a></h2>
<p>The translation of <code class="docutils literal notranslate"><span class="pre">\xmlemptyelt{foo}</span></code> is <code class="docutils literal notranslate"><span class="pre">&lt;foo/&gt;</span></code>. This command
does not start a paragraph. Use <code class="docutils literal notranslate"><span class="pre">\xmlelt{foo}{}</span></code> or
<code class="docutils literal notranslate"><span class="pre">\leavevmode\xmlemptyelt{foo}</span></code> if needed.</p>
</section>
<section id="xmllastid-tralics-readonly-internal-integer">
<span id="cmd-xmllastid"></span><h2>\XMLlastid (Tralics readonly internal integer)<a class="headerlink" href="#xmllastid-tralics-readonly-internal-integer" title="Link to this heading"></a></h2>
<p>The command <code class="docutils literal notranslate"><span class="pre">\XMLlastid</span></code> is a reference to the current <em>ID</em>, i.e., the
<em>ID</em> of the last created XML element. You can use it to modify the
attribute list (see the <code class="docutils literal notranslate"><span class="pre">`\XMLaddatt</span></code> &lt;#cmd-XMLaddatt&gt;`__ command), or
modify the element (see section <a class="reference external" href="#manipulate">manipulating the XML
tree</a>). The invocation <code class="docutils literal notranslate"><span class="pre">\the\XMLlastid</span></code> returns the
<em>ID</em> as a character string.</p>
</section>
<section id="xmllatex-tralics-command">
<span id="cmd-xmllatex"></span><h2>\xmllatex (Tralics command)<a class="headerlink" href="#xmllatex-tralics-command" title="Link to this heading"></a></h2>
<p>This command is defined in tralics.sty as
<code class="docutils literal notranslate"><span class="pre">\newcommand\xmllatex[2]{#2}</span></code>. Said otherwise, it takes two arguments,
and ignores the first one. However <em>Tralics</em> ignores the second
argument, and handles only the first.</p>
<p>In the first argument, commands are not expanded, but replaced by their
names. Said otherwise, <code class="docutils literal notranslate"><span class="pre">\foo</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">foo</span></code>, this is not
interesting; however <code class="docutils literal notranslate"><span class="pre">\&lt;\&amp;\&gt;</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">&lt;&amp;&gt;</span></code>. If you do not
care, this might generate invalid XML. In the example that follows, we
define a command <code class="docutils literal notranslate"><span class="pre">\strok</span></code>. You can apply it to the letters d, h, l, t
(uppercase and lower case), the result is a character entity defined in
the isolat2.ent file. We also give an example that shows how to put a
double accent on a character.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">def</span>\<span class="n">entity</span><span class="c1">#1{\xmllatex{\&amp;#1;}{}}</span>
\<span class="n">def</span>\<span class="n">strok</span><span class="c1">#1{\entity{#1strok}}</span>
\<span class="n">def</span>\<span class="n">Han</span><span class="p">{</span><span class="n">Hàn</span> <span class="n">Th</span>\<span class="n">xmllatex</span><span class="p">{</span><span class="o">&amp;</span>\<span class="c1">#x1ebf;}{\&#39;{\^e}} Thành}</span>

\<span class="n">Han</span>\ <span class="n">designed</span> \<span class="n">xmllatex</span><span class="p">{</span>\<span class="n">pdf</span>\<span class="o">&lt;</span><span class="n">TeX</span><span class="o">/</span>\<span class="o">&gt;</span><span class="p">}{}</span><span class="o">.</span> \<span class="n">l</span>\ <span class="ow">and</span> \<span class="n">strok</span><span class="p">{</span><span class="n">l</span><span class="p">}</span><span class="o">.</span>\\
<span class="n">In</span> <span class="n">Tralics</span> <span class="n">version</span> <span class="mi">2</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">say</span> <span class="n">Th</span><span class="p">{</span>\<span class="s1">&#39;{\^e}}</span>
</pre></div>
</div>
</div>
<p>The resulting XML is the following.</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Hàn</span> <span class="n">Th</span><span class="o">&amp;</span><span class="c1">#x1ebf; Thành designed pdf&lt;TeX/&gt;. &amp;#x142; and &amp;lstrok;.&lt;/p&gt;</span>
<span class="o">&lt;</span><span class="n">p</span> <span class="n">noindent</span><span class="o">=</span><span class="s1">&#39;true&#39;</span><span class="o">&gt;</span><span class="n">In</span> <span class="n">Tralics</span> <span class="n">version</span> <span class="mi">2</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">say</span> <span class="n">Th</span><span class="o">&amp;</span><span class="c1">#x1EBF;&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<p>Preview: <img alt="example of xmllatex" src="../_images/img_64.png" /></p>
</section>
<section id="xml-parent-tralics-command">
<span id="cmd-xmlparent"></span><h2>\XML&#64;parent (Tralics command)<a class="headerlink" href="#xml-parent-tralics-command" title="Link to this heading"></a></h2>
<p>This puts in the special register xmlB the parent of xmlA. Since you can
manipulate the XML tree as you like, it may happen that the element has
no parent, or more than one (case where the first parent in the list is
returned). In case of failure, the result is void. See section
<a class="reference external" href="#manipulate">manipulating the XML tree</a> for examples. The example
contains a math formula, with an ex and an alpha inside a <code class="docutils literal notranslate"><span class="pre">&lt;mi&gt;</span></code>
element. We explain how to fetch the alpha entity and put it in place of
the ex. Now, there are three elements that have the alpha entity as
child (because there is bold alpha). The <code class="docutils literal notranslate"><span class="pre">\XML&#64;parent</span></code> command finds
neither of them, since it ignores all elements created at boot-strap
code.</p>
</section>
<section id="xmlref-math-command">
<span id="cmd-xmlref"></span><h2>\XMLref (math command)<a class="headerlink" href="#xmlref-math-command" title="Link to this heading"></a></h2>
<p>The effect of <code class="docutils literal notranslate"><span class="pre">\XMLref[13]{foo}</span></code> is to make a reference from element
number 13 to the element defined by the label foo. If this element has
unique id uid27, then the effect is the same as
<code class="docutils literal notranslate"><span class="pre">\XMLaddatt[13]{target}{27}</span></code>. The first argument is optional, and has
the same meaning as in <code class="docutils literal notranslate"><span class="pre">`\XMLaddatt</span></code> &lt;#cmd-XMLaddatt&gt;`__. There is no
difference between <code class="docutils literal notranslate"><span class="pre">\ref{foo}</span></code> and <code class="docutils literal notranslate"><span class="pre">\xbox{ref}{\XMLref{foo}}</span></code>.
Example. Consider the following piece of code. The two calls to
<code class="docutils literal notranslate"><span class="pre">\newlabel</span></code> are taken from an auxiliary file written by LaTeX with the
hyperef package. They memorize they section number and section title.
that will be used by <code class="docutils literal notranslate"><span class="pre">\myref</span></code>.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">def</span>\<span class="n">newlabel</span><span class="c1">#1#2{\newlabelxx{#1}#2}</span>
\<span class="n">def</span>\<span class="n">newlabelxx</span><span class="c1">#1#2#3#4#5#6{%</span>
    \<span class="nd">@namedef</span><span class="p">{</span><span class="n">label</span><span class="nd">@value</span><span class="o">@</span><span class="c1">#1}{#2}%</span>
    \<span class="nd">@namedef</span><span class="p">{</span><span class="n">label</span><span class="nd">@title</span><span class="o">@</span><span class="c1">#1}{#4}}</span>
\<span class="n">def</span>\<span class="n">myref</span><span class="c1">#1{\xbox{ref}{%</span>
   \<span class="n">XMLref</span><span class="p">{</span><span class="c1">#1}\@nameuse{label@title@#1}%</span>
   \<span class="n">XMLaddatt</span><span class="p">{</span><span class="n">value</span><span class="p">}{</span>\<span class="nd">@nameuse</span><span class="p">{</span><span class="n">label</span><span class="nd">@value</span><span class="o">@</span><span class="c1">#1}}}}</span>

\<span class="n">newlabel</span><span class="p">{</span><span class="n">labA</span><span class="p">}{{</span><span class="mf">1.1</span><span class="p">}{</span><span class="mi">1</span><span class="p">}{</span><span class="n">Introduction</span>\<span class="n">relax</span> <span class="p">}{</span><span class="n">subsection</span><span class="mf">.1.1</span><span class="p">}{}}</span>
\<span class="n">newlabel</span><span class="p">{</span><span class="n">labB</span><span class="p">}{{</span><span class="mf">1.2</span><span class="p">}{</span><span class="mi">1</span><span class="p">}{</span><span class="n">Continuation</span>\<span class="n">relax</span> <span class="p">}{</span><span class="n">subsection</span><span class="mf">.1.2</span><span class="p">}{}}</span>
</pre></div>
</div>
</div>
<p>Consider now the following lines. The commands <code class="docutils literal notranslate"><span class="pre">\myref</span></code> can be placed
before or after the associated label (but should be placed before the
<code class="docutils literal notranslate"><span class="pre">\newlabel</span></code>).</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="o">.</span> \<span class="n">anchor</span>\<span class="n">label</span><span class="p">{</span><span class="n">labA</span><span class="p">}</span>
\<span class="n">myref</span><span class="p">{</span><span class="n">labA</span><span class="p">}</span>\<span class="n">myref</span><span class="p">{</span><span class="n">labB</span><span class="p">}</span>
\<span class="n">anchor</span>\<span class="n">label</span><span class="p">{</span><span class="n">labB</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>Translation</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Text</span><span class="o">.</span> <span class="o">&lt;</span><span class="n">anchor</span> <span class="nb">id</span><span class="o">-</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;1&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;uid1&#39;</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">ref</span> <span class="n">target</span><span class="o">=</span><span class="s1">&#39;uid1&#39;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;1.1&#39;</span><span class="o">&gt;</span><span class="n">Introduction</span><span class="o">&lt;/</span><span class="n">ref</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">ref</span> <span class="n">target</span><span class="o">=</span><span class="s1">&#39;uid2&#39;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;1.2&#39;</span><span class="o">&gt;</span><span class="n">Continuation</span><span class="o">&lt;/</span><span class="n">ref</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">anchor</span> <span class="nb">id</span><span class="o">-</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;2&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;uid2&#39;</span><span class="o">/&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</section>
<section id="xml-seta-xml-setb-tralics-command">
<span id="cmd-xmlseta"></span><h2>\XML&#64;setA, \XML&#64;setB (Tralics command)<a class="headerlink" href="#xml-seta-xml-setb-tralics-command" title="Link to this heading"></a></h2>
<p>These two commands behave like <code class="docutils literal notranslate"><span class="pre">\setbox0</span></code>, this means that they read a
box, but the result is stored in one of two special box registers, xmlA
and xmlB. See section <a class="reference external" href="#manipulate">manipulating the XML tree</a> for
examples.</p>
</section>
<section id="xpt-xipt-xiipt-xivpt-xviipt-xxpt-xxvpt-constant">
<span id="cmd-xpt"></span><h2>\&#64;xpt, \&#64;xipt, \&#64;xiipt, \&#64;xivpt, \&#64;xviipt, \&#64;xxpt, \&#64;xxvpt (constant)<a class="headerlink" href="#xpt-xipt-xiipt-xivpt-xviipt-xxpt-xxvpt-constant" title="Link to this heading"></a></h2>
<p>These seven commands are used for font sizes; their expansion is
respectively 10, 10.95, 12, 14.4, 17.28, 20.74 and 24.88.</p>
</section>
<section id="xrightarrow-math-command">
<span id="cmd-xrightarrow"></span><h2>\xrightarrow (math command)<a class="headerlink" href="#xrightarrow-math-command" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">There is no difference between <code class="docutils literal notranslate"><span class="pre">\xrightarrow{foo}</span></code> and
<code class="docutils literal notranslate"><span class="pre">\stackrel{foo}{\leftarrow}</span></code>. It puts foo over an arrow pointing to
the right.</div>
<div class="line"><img alt="See..." src="../_images/AR.png" />See <code class="docutils literal notranslate"><span class="pre">`\stackrel</span></code> &lt;doc-s.html#cmd-stackrel&gt;`__. The command
accepts an optional argument placed below the arrow. See
<code class="docutils literal notranslate"><span class="pre">`\xleftarrow</span></code> &lt;doc-x.html#cmd-xleftarrow&gt;`__.</div>
</div>
</section>
<section id="xscale">
<span id="cmd-xscale"></span><h2>\xscale<a class="headerlink" href="#xscale" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\xscale</span></code> command is defined by the curves package. The value is
<code class="docutils literal notranslate"><span class="pre">1.0</span></code>. See <code class="docutils literal notranslate"><span class="pre">`\arc</span></code> &lt;doc-a.html#cmd-arc&gt;`__.</p>
</section>
<section id="xscaley">
<span id="cmd-xscaley"></span><h2>\xscaley<a class="headerlink" href="#xscaley" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\xscaley</span></code> command is defined by the curves package. The value is
<code class="docutils literal notranslate"><span class="pre">0.0</span></code>. See <code class="docutils literal notranslate"><span class="pre">`\arc</span></code> &lt;doc-a.html#cmd-arc&gt;`__.</p>
</section>
<section id="xspace">
<span id="cmd-xspace"></span><h2>\xspace<a class="headerlink" href="#xspace" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">\xspace</span></code> command looks at a token, its expansion is a space
unless the space is useless, where where the expansion is empty. No
space is needed if the token is an opening brace, a closing brace, a
space (or a command that is made equivalent via <code class="docutils literal notranslate"><span class="pre">\let</span></code> to one these),
or a punctuation character, one of <code class="docutils literal notranslate"><span class="pre">.!,:;?/')-~</span></code>. In the example that
follows, the effect is to put a space between the two As, and not
between the A and the exclamation point. Note that, in French, there
should be a space there. On the other hand, there is a double space
between the Bs, because the token that follows <code class="docutils literal notranslate"><span class="pre">\xspace</span></code>, namely
<code class="docutils literal notranslate"><span class="pre">\cmdB</span></code>, is not in the list (it is not expanded by <code class="docutils literal notranslate"><span class="pre">\xspace</span></code>).</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\def\cmdA{A\xspace}
\def\cmdB{ B\xspace}
\cmdA \cmdA !
\cmdB \cmdB !
</pre></div>
</div>
</div>
</section>
<section id="xspaceskip-rubber-length">
<span id="cmd-xspaceskip"></span><h2>\xspaceskip (rubber length)<a class="headerlink" href="#xspaceskip-rubber-length" title="Link to this heading"></a></h2>
<p>You can say <code class="docutils literal notranslate"><span class="pre">\xspaceskip=10pt</span> <span class="pre">plus</span> <span class="pre">2pt</span> <span class="pre">minus</span> <span class="pre">3pt</span></code>. This explains to
TeX that it should put 10pt (maybe up to 2pt more, maybe up to 3pt less)
of glue between sentences. Unused by <em>Tralics</em>. (See
<a class="reference external" href="doc-s.html#fct-scanglue">scanglue</a> for details of argument
scanning). (See <code class="docutils literal notranslate"><span class="pre">`\spaceskip</span></code> &lt;doc-s.html#cmd-spaceskip&gt;`__ for
additional details).</p>
</section>
<section id="x-tag-xtag-tralics-commands">
<span id="cmd-xtag"></span><h2>\x&#64;tag, \&#64;xtag (Tralics commands)<a class="headerlink" href="#x-tag-xtag-tralics-commands" title="Link to this heading"></a></h2>
<p>Internal commands used for equation numbering, see
<code class="docutils literal notranslate"><span class="pre">`\tag</span></code> &lt;doc-t.html#cmd-tag&gt;`__.</p>
</section>
<section id="manipulation-of-the-xml-tree">
<span id="manipulate"></span><h2>Manipulation of the XML tree<a class="headerlink" href="#manipulation-of-the-xml-tree" title="Link to this heading"></a></h2>
<p><em>Tralics</em> (since version 2.15.3) provides some commands to manipulate
the XML tree it constructs. In order to make sure that the result
remains a tree, a complete copy of some objects has to be made; the
copies may be avoided by using one of the two pointers xmlA and xmlB.
One can get the name of an element; however <code class="docutils literal notranslate"><span class="pre">\XMLname</span> <span class="pre">\hbox{...}</span></code> is
difficult to implement and a bit strange: this creates a box, gets its
name, then discards the box (but the box is never destroyed). For this
reason, you can fetch only the name of a box register or one of xmlA or
xmlB.</p>
<p>You can say <code class="docutils literal notranslate"><span class="pre">\XML&#64;moveAB</span></code>, <code class="docutils literal notranslate"><span class="pre">\XML&#64;moveBA</span></code> and <code class="docutils literal notranslate"><span class="pre">\XML&#64;swapAB</span></code>. The
effect is to copy xmlA into xmlB, or xmlB into xmlA or to swap these two
quantities. You can say <code class="docutils literal notranslate"><span class="pre">\XML&#64;copyA</span></code> or <code class="docutils literal notranslate"><span class="pre">\XML&#64;copyB</span></code>. What you get
is a complete copy of xmlA or xmlB; you can put it in a register as
<code class="docutils literal notranslate"><span class="pre">\setbox0</span> <span class="pre">\XML&#64;copyA</span></code>. You can use <code class="docutils literal notranslate"><span class="pre">\XML&#64;setA</span></code> or <code class="docutils literal notranslate"><span class="pre">\XML&#64;setB</span></code>,
this will read a box and put it into xmlA or xmlB. Example
<code class="docutils literal notranslate"><span class="pre">\XML&#64;setA\box0</span></code> put box register zero into xmlA. You can say
<code class="docutils literal notranslate"><span class="pre">\XML&#64;A&#64;id</span></code>; this returns the unique <em>ID</em> of xmlA. You can say
<code class="docutils literal notranslate"><span class="pre">\count0=\XML&#64;A&#64;id</span></code>, or <code class="docutils literal notranslate"><span class="pre">\ifnum</span> <span class="pre">0&lt;\XML&#64;A&#64;id</span>&#160;&#160; <span class="pre">good</span> <span class="pre">\else</span>&#160; <span class="pre">bad\fi</span></code>.
There is also <code class="docutils literal notranslate"><span class="pre">\XML&#64;B&#64;id</span></code>. You can say <code class="docutils literal notranslate"><span class="pre">\XML&#64;A&#64;size</span></code>; this returns
the size of xmlA. The value is -1 in case xmlA is void, and -2 in case
xmlA is not an element.</p>
<p>You can say <code class="docutils literal notranslate"><span class="pre">\XML&#64;fetch</span></code>; this reads an integer N and puts in xmlA the
XML element whose <em>ID</em> is N. If no element is found, a void element is
used (you can use <code class="docutils literal notranslate"><span class="pre">\XML&#64;A&#64;id</span></code> to check the result). You can say
<code class="docutils literal notranslate"><span class="pre">\XML&#64;parent</span></code>. This puts in xmlB an element whose child is xmlA, if
such an object exists; an empty box otherwise. You can say
<code class="docutils literal notranslate"><span class="pre">\XML&#64;insert</span></code>, <code class="docutils literal notranslate"><span class="pre">\XML&#64;delete</span></code>, <code class="docutils literal notranslate"><span class="pre">\XML&#64;set</span></code> or <code class="docutils literal notranslate"><span class="pre">\XML&#64;get</span></code>. These
commands read an integer N. In the case of “get”, the N-th child of xmlA
is put in xmlB; in the case of “delete”, it is deleted; in the case of
“put” it is replaced by a copy of xmlB, and in the case of “insert”, a
copy is inserted before the element at position N; Nothing is done if
xmlA has not at least N children; except that , in the case of “insert”,
N can be the size, in the case, the insert is after the last element.</p>
<p>We give here an example of how these commands can be used. In blue we
show what <em>Tralics</em> prints on the terminal.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>before
\xbox{foo} {  b \xbox{bar}{s \global\count0=\XMLlastid} c }
after
$x= \alpha^2$
\count1=\XMLcurrentid
\showthe\count0 \showthe\count1
\show: 1124
\show: 1122
</pre></div>
</div>
</div>
<p>At the end of the compilation <em>Tralics</em> may print someting like
<em>Attribute list search 1529(1509) found 1083 in 1132 elements (1120 at
boot)</em> . This means the total number of elements created was 1132, and
1120 elements were created at bootstrap time (the other numbers are
statistic about attributes of these elements). The commands
<code class="docutils literal notranslate"><span class="pre">\XML&#64;fetch</span></code> and <code class="docutils literal notranslate"><span class="pre">\XML&#64;parent</span></code> do not consider these elements. For
some strange reason, the first element created after bootstrap is
<code class="docutils literal notranslate"><span class="pre">&lt;thepage/&gt;</span></code>, then comes the main element, then a paragraph, the <em>ID</em>
of this paragraph is in <code class="docutils literal notranslate"><span class="pre">\count1</span></code>; after that comes <code class="docutils literal notranslate"><span class="pre">&lt;foo&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&lt;bar&gt;</span></code> (which <em>ID</em> is in <code class="docutils literal notranslate"><span class="pre">\count0</span></code>), this is followed by the math
formula. Consider now</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">makeatletter</span>
\<span class="n">XML</span><span class="nd">@fetch</span>\<span class="n">count1</span>
<span class="o">%</span>\<span class="n">show</span><span class="nd">@xmlA</span>
\<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@A@size</span>
\<span class="n">show</span><span class="p">:</span> <span class="mi">4</span>
\<span class="n">XML</span><span class="nd">@fetch</span>\<span class="n">count0</span>
\<span class="n">show</span><span class="nd">@xmlA</span>
<span class="n">xmlA</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">bar</span><span class="o">&gt;</span><span class="n">s</span> <span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;</span>
\<span class="n">XML</span><span class="nd">@parent</span>
\<span class="n">show</span><span class="nd">@xmlB</span>
<span class="n">xmlB</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">foo</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">&lt;</span><span class="n">bar</span><span class="o">&gt;</span><span class="n">s</span> <span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;</span> <span class="n">c</span> <span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>The commented line explains one how could look at the element with <em>ID</em>
1122 (this the paragraph); it has four children; two pieces of text,
<code class="docutils literal notranslate"><span class="pre">&lt;foo&gt;</span></code> and the math formula.</p>
<p>Let’s swap xmlA and xmlB, fetch the <em>ID</em> of xmlA (this should be 1123),
modify the attribute list, and show A again</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">XML</span><span class="nd">@swapAB</span> \<span class="n">count2</span><span class="o">=</span>\<span class="n">XML</span><span class="nd">@A@id</span>
\<span class="n">XMLaddatt</span><span class="p">[</span>\<span class="n">count2</span><span class="p">]{</span><span class="n">mayatt</span><span class="p">}{</span><span class="n">myval</span><span class="p">}</span>
\<span class="n">show</span><span class="nd">@xmlA</span>
<span class="n">xmlA</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">foo</span> <span class="n">myatt</span><span class="o">=</span><span class="s1">&#39;myval&#39;</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">&lt;</span><span class="n">bar</span><span class="o">&gt;&gt;</span><span class="n">s</span> <span class="o">&lt;/</span><span class="n">bar</span><span class="o">&gt;</span> <span class="n">c</span> <span class="o">&lt;/</span><span class="n">foo</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>Let’s get the parent of xmlA, and the children of index 3, then 0 then 0
(this is a <code class="docutils literal notranslate"><span class="pre">&lt;mrow&gt;</span></code> element with three children, a letter, an equals
signs and a square. We store in count4 the <em>ID</em> of the row, then take
the square, then the alpha. We put the alpha in a box register, then
inset a copy of it in the XML tree. Note that the size is now 6, as one
of the previous line inserted a space after the math formula.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">XML</span><span class="nd">@parent</span> \<span class="n">XML</span><span class="nd">@moveBA</span> \<span class="n">XML</span><span class="nd">@get3</span>  \<span class="n">XML</span><span class="nd">@swapAB</span> \<span class="n">XML</span><span class="nd">@get0</span> <span class="o">%</span>
\<span class="n">XML</span><span class="nd">@swapAB</span> \<span class="n">XML</span><span class="nd">@get0</span> \<span class="n">count4</span><span class="o">=</span>\<span class="n">XML</span><span class="nd">@B@id</span>
\<span class="n">XML</span><span class="nd">@swapAB</span> \<span class="n">XML</span><span class="nd">@get2</span> \<span class="n">XML</span><span class="nd">@swapAB</span> \<span class="n">XML</span><span class="nd">@get0</span>
\<span class="n">show</span><span class="nd">@xmlB</span> \<span class="n">setbox0</span><span class="o">=</span>\<span class="n">XML</span><span class="nd">@copyB</span> \<span class="n">showbox0</span>  \<span class="n">copy0</span> <span class="o">%</span>
<span class="n">xmlB</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;&amp;</span><span class="n">alpha</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;</span>
<span class="n">Box0</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;&amp;</span><span class="n">alpha</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;</span>
\<span class="n">copy0</span> \<span class="n">XML</span><span class="nd">@fetch</span>\<span class="n">count1</span>\<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@A@size</span>
\<span class="n">XML</span><span class="nd">@fetch</span>\<span class="n">count1</span>\<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@A@size</span>
\<span class="n">show</span><span class="p">:</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
<p>The <em>Tralics</em> distribution contains a file with a single line of code:
<code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">world!</span></code>. Let’s compile it into hello.xml, and read this file.
If this succeeds, then the content of the file will be in xmlA. As you
can see, <em>Tralics</em> created an element called <code class="docutils literal notranslate"><span class="pre">root</span></code>, with seven sons.
These are, in order, the XML declaration, a newline character, the
DOCTYPE declaration, a newline character, a comment indicating the
<em>Tralics</em> version and compilation date, a newline character, and the
real content of the file. If we ask for the <em>ID</em> of the element, we get
the values shown below. Here zero means that the XML element is a
character string; minus one means that it is a comment, minus two that
it is a declaration (for instance the DOCTYPE), minus three a processing
instruction and minus four that it is void ( this means that
<code class="docutils literal notranslate"><span class="pre">\XML&#64;get7</span></code> failed).</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">readxml</span><span class="p">{</span><span class="n">hello</span><span class="o">.</span><span class="n">xml</span><span class="p">}</span>\<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@A@size</span>\<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@A@name</span>
\<span class="n">show</span><span class="p">:</span> <span class="mi">7</span>
\<span class="n">show</span><span class="p">:</span> <span class="n">root</span>
\<span class="n">XML</span><span class="nd">@get0</span> \<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@B@id</span>
\<span class="n">show</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span>
\<span class="n">XML</span><span class="nd">@get1</span> \<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@B@id</span>
\<span class="n">show</span><span class="p">:</span> <span class="o">-</span><span class="mi">0</span>
\<span class="n">XML</span><span class="nd">@get2</span> \<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@B@id</span>
\<span class="n">show</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span>
\<span class="n">XML</span><span class="nd">@get4</span> \<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@B@id</span>
\<span class="n">show</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
\<span class="n">XML</span><span class="nd">@get7</span> \<span class="n">showthe</span>\<span class="n">XML</span><span class="nd">@B@id</span>
\<span class="n">show</span><span class="p">:</span> <span class="o">-</span><span class="mi">4</span>
</pre></div>
</div>
</div>
<p>There is a possibility to specify the name of the main element (see
<a class="reference external" href="titlepage.html">this documentation</a>), generally based on the current
document class; since our document lacks a <code class="docutils literal notranslate"><span class="pre">\documentclass</span></code>
declaration, the name will be <code class="docutils literal notranslate"><span class="pre">unknown</span></code>. You can put the name into a
macro, and compare it with something (so you could do something with the
first child that has a given name); note that the name is formed of
characters of category code 12, so you have to use the <code class="docutils literal notranslate"><span class="pre">\detokenize</span></code>
trick. For some reason, the first child of the main element is a newline
character; the second one is <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;Hello,</span>&#160;&#160; <span class="pre">world!&lt;/p&gt;</span></code>, with a newline
character (since there was one in the original file). We close the
current paragraph and insert the element in the current XML tree.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\XML@get6 \showthe\XML@B@name
\show: unknown
\edef\pfoo{\detokenize{unknown}}
\edef\foo{\the\XML@B@name} \ifx\foo\pfoo\else \ooups\fi
\XML@swapAB \XML@get1 \show@xmlB  \par\XML@copyB
xmlB: &lt;p&gt;Hello, world!
&lt;/p&gt;
</pre></div>
</div>
</div>
<p>Let’s do something with box0. We put it in xmlA via its <em>ID</em>. We add an
attribute list, copy it in box1, then modify the attribute list of the
copy. We give some examples of box manipulations.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">XML</span><span class="nd">@fetch</span>\<span class="n">XMLbox</span><span class="nd">@id0</span> \<span class="n">show</span><span class="nd">@xmlA</span>
<span class="n">xmlA</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">mi</span><span class="o">&gt;&amp;</span><span class="n">alpha</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;</span>
\<span class="n">XMLaddatt</span><span class="p">[</span>\<span class="n">XMLbox</span><span class="nd">@id0</span><span class="p">]{</span><span class="n">att</span><span class="o">-</span><span class="n">name</span><span class="p">}{</span><span class="n">att</span><span class="o">-</span><span class="n">val0</span><span class="p">}</span>
\<span class="n">setbox1</span><span class="o">=</span>\<span class="n">XML</span><span class="nd">@copyA</span> \<span class="n">leavevmode</span>\<span class="n">copy1</span>
\<span class="n">XMLaddatt</span><span class="o">*</span><span class="p">[</span>\<span class="n">XMLbox</span><span class="nd">@id1</span><span class="p">]{</span><span class="n">att</span><span class="o">-</span><span class="n">name</span><span class="p">}{</span><span class="n">att</span><span class="o">-</span><span class="n">val1</span><span class="p">}</span><span class="o">%</span>
\<span class="n">XML</span><span class="nd">@setB</span>\<span class="n">hbox</span><span class="p">{</span><span class="n">E1</span><span class="p">}</span>\<span class="n">XML</span><span class="nd">@insert0</span>
\<span class="n">XML</span><span class="nd">@setB</span>\<span class="n">hbox</span><span class="p">{</span><span class="n">E3</span><span class="p">}</span>\<span class="n">XML</span><span class="nd">@insert2</span>
\<span class="n">XML</span><span class="nd">@setB</span>\<span class="n">hbox</span><span class="p">{</span><span class="n">E2</span><span class="p">}</span>\<span class="n">XML</span><span class="nd">@set1</span>
\<span class="n">show</span><span class="nd">@xmlA</span>
<span class="n">xmlA</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">mi</span> <span class="n">att</span><span class="o">-</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;att-val0&#39;</span><span class="o">&gt;</span><span class="n">E1E2E3</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>Let’s do something with box1. We put it in xmlA via a box assignment
(note that <code class="docutils literal notranslate"><span class="pre">\copy1</span></code> could also have been used). We put the content of
the box in box0, then erase it. So, the XML tree will contain an empty
<code class="docutils literal notranslate"><span class="pre">mi</span></code> element. Then we come back to the box whose <em>ID</em> is in count4.
This is the <code class="docutils literal notranslate"><span class="pre">&lt;mrow&gt;</span></code>; now we replace the first child of the first
child by the content of box0.</p>
<div class="ltx-source docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">XML</span><span class="nd">@setA</span>\<span class="n">box1</span> \<span class="n">show</span><span class="nd">@xmlA</span> \<span class="n">showbox1</span>
<span class="n">mlA</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">mi</span> <span class="n">att</span><span class="o">-</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;att-val1&#39;</span><span class="o">&gt;&amp;</span><span class="n">alpha</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">mi</span><span class="o">&gt;</span>
<span class="n">Box</span> <span class="mi">1</span><span class="p">:</span> <span class="n">empty</span><span class="o">.</span>
\<span class="n">XML</span><span class="nd">@get0</span> \<span class="n">setbox0</span><span class="o">=</span>\<span class="n">XML</span><span class="nd">@copyB</span> \<span class="n">XML</span><span class="nd">@delete0</span>
\<span class="n">XML</span><span class="nd">@fetch</span>\<span class="n">count4</span> \<span class="n">XML</span><span class="nd">@get0</span> \<span class="n">XML</span><span class="nd">@swapAB</span>
\<span class="n">XML</span><span class="nd">@setB</span>\<span class="n">box0</span> \<span class="n">XML</span><span class="nd">@set0</span>
</pre></div>
</div>
</div>
<p>This is now the translation</p>
<div class="xml-out docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
&lt;!DOCTYPE unknown SYSTEM &#39;unknown.dtd&#39;&gt;
&lt;!-- Translated from latex by tralics 2.15.3, date: 2015/07/29--&gt;
&lt;unknown&gt;
&lt;p&gt;before
&lt;foo myatt=&#39;myval&#39;&gt; b &lt;bar&gt;s &lt;/bar&gt; c &lt;/foo&gt;
after
&lt;formula type=&#39;inline&#39;&gt;&lt;math xmlns=&#39;http://www.w3.org/1998/Math/MathML&#39;&gt;NL
&lt;mrow&gt;&lt;mi&gt;α&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;α&lt;/mi&gt;NL
&lt;mn&gt;2&lt;/mn&gt; &lt;/msup&gt;&lt;/mrow&gt;&lt;/math&gt;&lt;/formula&gt;

&lt;mi att-name=&#39;att-val0&#39;&gt;E1E2E3&lt;/mi&gt;&lt;/p&gt;
&lt;p&gt;Hello, world!
&lt;/p&gt;&lt;p&gt;&lt;mi att-name=&#39;att-val1&#39;/&gt;&lt;/p&gt;&lt;/unknown&gt;
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-2020, INRIA and CNRS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>